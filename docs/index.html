<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>National TV Rental Application</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #0066cc;
            --primary-red: #cc0000;
            --light-blue: #e6f0ff;
            --light-red: #ffe6e6;
            --dark-gray: #333;
            --light-gray: #f5f5f5;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9f9f9;
            color: var(--dark-gray);
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-blue) 0%, #004d99 100%);
            border-radius: var(--border-radius);
            color: white;
            box-shadow: var(--box-shadow);
        }

        .logo {
            max-width: 200px;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .application-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .collapsible-menu {
            border-bottom: 1px solid #ddd;
        }

        .menu-header {
            background-color: var(--primary-red);
            color: white;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s;
        }

        .menu-header:hover {
            background-color: #aa0000;
        }

        .menu-header h2 {
            margin: 0;
            font-size: 1.4rem;
        }

        .menu-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease;
        }

        .menu-content.active {
            padding: 20px;
            max-height: 5000px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--dark-gray);
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: border 0.3s;
        }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: var(--primary-blue);
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 102, 204, 0.2);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }

        .checkbox-group input {
            margin-right: 10px;
            width: 18px;
            height: 18px;
        }

        .conditional-section {
            padding: 15px;
            background-color: var(--light-blue);
            border-radius: var(--border-radius);
            margin-top: 15px;
            display: none;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            background-color: var(--primary-blue);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            background-color: #0055aa;
        }

        .btn-danger {
            background-color: var(--primary-red);
        }

        .btn-danger:hover {
            background-color: #b30000;
        }

        .btn-success {
            background-color: #28a745;
        }

        .btn-success:hover {
            background-color: #218838;
        }

        .upload-area {
            border: 2px dashed #ccc;
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            margin: 15px 0;
            transition: border 0.3s;
        }

        .upload-area:hover {
            border-color: var(--primary-blue);
        }

        .references-container {
            overflow-x: auto;
            max-height: 400px;
            margin: 20px 0;
        }

        .references-table {
            width: 100%;
            border-collapse: collapse;
        }

        .references-table th,
        .references-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
            white-space: nowrap;
        }

        .references-table th {
            background-color: var(--light-blue);
            position: sticky;
            top: 0;
        }

        .disclosure-box {
            max-height: 200px;
            overflow-y: auto;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            margin: 20px 0;
            background-color: var(--light-gray);
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #666;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .menu-header h2 {
                font-size: 1.2rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .references-container {
                overflow-x: auto;
            }
        }

        /* Validation styles */
        .validation-error {
            border: 2px solid var(--primary-red) !important;
        }

        .validation-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border: 2px solid var(--primary-red);
            border-radius: var(--border-radius);
            padding: 20px;
            z-index: 10000;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .validation-popup h3 {
            color: var(--primary-red);
            margin-bottom: 15px;
            text-align: center;
        }

        .validation-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        .validation-item {
            padding: 8px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }

        .validation-item i {
            margin-right: 10px;
            color: var(--primary-red);
        }

        .validation-buttons {
            text-align: center;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
        }

        /* Day of week and date selectors */
        .day-selector, .date-selector {
            display: none;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            padding: 20px;
        }
        
        .action-buttons .btn {
            flex: 1;
            max-width: 250px;
        }
        
        .fun-element {
            text-align: center;
            margin: 10px 0;
        }
        
        .fun-element i {
            color: var(--primary-red);
            margin: 0 5px;
            font-size: 1.5rem;
        }

        /* Print styles */
        @media print {
            body * {
                visibility: hidden;
            }
            #printable-application, #printable-application * {
                visibility: visible;
            }
            #printable-application {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                padding: 20px;
                font-size: 12px;
                line-height: 1.2;
            }
            .print-section {
                margin-bottom: 15px;
                page-break-inside: avoid;
            }
            .print-section h3 {
                border-bottom: 1px solid #ccc;
                padding-bottom: 5px;
                margin-bottom: 10px;
            }
            .print-row {
                display: flex;
                margin-bottom: 5px;
            }
            .print-label {
                font-weight: bold;
                width: 40%;
            }
            .print-value {
                width: 60%;
            }
            .print-uploads {
                margin-top: 10px;
            }
            .print-upload-item {
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>National TV Rental Application</h1>
    </div>

    <form id="rental-application" class="application-container">
        <!-- Primary Renter Information Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-user-circle"></i> Primary Renter Information</h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="first-name">First Name *</label>
                        <input type="text" id="first-name" name="first-name" required>
                    </div>
                    <div class="form-group">
                        <label for="last-name">Last Name *</label>
                        <input type="text" id="last-name" name="last-name" required>
                    </div>
                    <div class="form-group">
                        <label for="maiden-name">Maiden Name (if applicable)</label>
                        <input type="text" id="maiden-name" name="maiden-name">
                    </div>
                    <div class="form-group">
                        <label for="birthdate">Birthdate *</label>
                        <input type="date" id="birthdate" name="birthdate" required>
                    </div>
                    <div class="form-group">
                        <label for="ssn">Social Security Number *</label>
                        <input type="text" id="ssn" name="ssn" required pattern="[0-9]{9}" title="Please enter a valid 9-digit SSN">
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="contact-time">Best Time to Contact *</label>
                        <select id="contact-time" name="contact-time" required>
                            <option value="">Select a time</option>
                            <option value="morning">Morning (8AM-12PM)</option>
                            <option value="afternoon">Afternoon (12PM-5PM)</option>
                            <option value="evening">Evening (5PM-9PM)</option>
                        </select>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="has-corener" name="has-corener" onchange="toggleCoRenterSection(this)">
                    <label for="has-corener">I have a co-renter</label>
                </div>

                <div id="corener-section" class="conditional-section">
                    <h3>Co-Renter Information</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="co-first-name">First Name *</label>
                            <input type="text" id="co-first-name" name="co-first-name">
                        </div>
                        <div class="form-group">
                            <label for="co-last-name">Last Name *</label>
                            <input type="text" id="co-last-name" name="co-last-name">
                        </div>
                        <div class="form-group">
                            <label for="co-maiden-name">Maiden Name (if applicable)</label>
                            <input type="text" id="co-maiden-name" name="co-maiden-name">
                        </div>
                        <div class="form-group">
                            <label for="co-birthdate">Birthdate *</label>
                            <input type="date" id="co-birthdate" name="co-birthdate">
                        </div>
                        <div class="form-group">
                            <label for="co-ssn">Social Security Number *</label>
                            <input type="text" id="co-ssn" name="co-ssn" pattern="[0-9]{9}" title="Please enter a valid 9-digit SSN">
                        </div>
                        <div class="form-group">
                            <label for="co-email">Email Address *</label>
                            <input type="email" id="co-email" name="co-email">
                        </div>
                        <div class="form-group">
                            <label for="co-phone">Phone Number *</label>
                            <input type="tel" id="co-phone" name="co-phone">
                        </div>
                        <div class="form-group">
                            <label for="co-contact-time">Best Time to Contact *</label>
                            <select id="co-contact-time" name="co-contact-time">
                                <option value="">Select a time</option>
                                <option value="morning">Morning (8AM-12PM)</option>
                                <option value="afternoon">Afternoon (12PM-5PM)</option>
                                <option value="evening">Evening (5PM-9PM)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <h3>Vehicle Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="vehicle-make">Make</label>
                        <input type="text" id="vehicle-make" name="vehicle-make">
                    </div>
                    <div class="form-group">
                        <label for="vehicle-model">Model</label>
                        <input type="text" id="vehicle-model" name="vehicle-model">
                    </div>
                    <div class="form-group">
                        <label for="license-plate">License Plate Number</label>
                        <input type="text" id="license-plate" name="license-plate">
                    </div>
                    <div class="form-group">
                        <label for="vehicle-color">Color</label>
                        <input type="text" id="vehicle-color" name="vehicle-color">
                    </div>
                </div>

                <div class="form-group">
                    <label>Vehicle Status</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="rented" name="vehicle-status" value="rented">
                        <label for="rented">Rented</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="leased" name="vehicle-status" value="leased">
                        <label for="leased">Leased</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="owned" name="vehicle-status" value="owned">
                        <label for="owned">Owned</label>
                    </div>
                </div>

                <div class="upload-area">
                    <h3><i class="fas fa-id-card"></i> ID Upload</h3>
                    <p>Please upload a copy of your government-issued ID. If you don't upload now, you'll need to bring an unexpired copy to the store.</p>
                    <input type="file" id="id-upload" name="id-upload" accept=".jpg,.jpeg,.png,.pdf">
                    <label for="id-upload" class="btn"><i class="fas fa-upload"></i> Choose File</label>
                </div>

                <div class="fun-element">
                    <p>We're excited to help you get the perfect rental items for your home! <i class="fas fa-tv"></i> <i class="fas fa-couch"></i> <i class="fas fa-blender"></i> <i class="fas fa-laptop"></i></p>
                </div>
            </div>
        </div>

        <!-- Income Information Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-money-bill-wave"></i> Income Information</h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-group">
                    <label>Is employment your primary source of income? *</label>
                    <div class="checkbox-group">
                        <input type="radio" id="employment-yes" name="employment-primary" value="yes" onchange="toggleEmploymentFields(this)">
                        <label for="employment-yes">Yes</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="radio" id="employment-no" name="employment-primary" value="no" onchange="toggleEmploymentFields(this)">
                        <label for="employment-no">No</label>
                    </div>
                </div>

                <div id="employment-fields" class="conditional-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="employer">Employer *</label>
                            <input type="text" id="employer" name="employer">
                        </div>
                        <div class="form-group">
                            <label for="job-title">Job Title *</label>
                            <input type="text" id="job-title" name="job-title">
                        </div>
                        <div class="form-group">
                            <label for="shift">Shift *</label>
                            <select id="shift" name="shift">
                                <option value="">Select shift</option>
                                <option value="day">Day Shift</option>
                                <option value="evening">Evening Shift</option>
                                <option value="night">Night Shift</option>
                                <option value="varied">Varied Shifts</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="income-type">Income Type *</label>
                            <select id="income-type" name="income-type" onchange="toggleIncomeFields(this)">
                                <option value="">Select type</option>
                                <option value="hourly">Hourly Rate</option>
                                <option value="salary">Monthly Salary</option>
                            </select>
                        </div>
                        <div class="form-group" id="hourly-rate-field">
                            <label for="hourly-rate">Hourly Rate *</label>
                            <input type="number" id="hourly-rate" name="hourly-rate" step="0.01">
                        </div>
                        <div class="form-group" id="pay-frequency-field">
                            <label for="pay-frequency">Pay Frequency *</label>
                            <select id="pay-frequency" name="pay-frequency" onchange="togglePayFrequencyFields(this)">
                                <option value="">Select</option>
                                <option value="weekly">Weekly</option>
                                <option value="biweekly">Bi-Weekly</option>
                                <option value="semimonthly">Semi-Monthly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>
                        <div class="form-group" id="monthly-salary-field">
                            <label for="monthly-salary">Monthly Salary *</label>
                            <input type="number" id="monthly-salary" name="monthly-salary" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="take-home-pay">Take Home Pay (after taxes) *</label>
                            <input type="number" id="take-home-pay" name="take-home-pay" step="0.01">
                        </div>
                    </div>

                    <!-- Day of week selector for weekly/bi-weekly -->
                    <div id="day-of-week-field" class="form-group day-selector">
                        <label for="pay-day">Day of Week You Get Paid *</label>
                        <select id="pay-day" name="pay-day">
                            <option value="">Select day</option>
                            <option value="monday">Monday</option>
                            <option value="tuesday">Tuesday</option>
                            <option value="wednesday">Wednesday</option>
                            <option value="thursday">Thursday</option>
                            <option value="friday">Friday</option>
                            <option value="saturday">Saturday</option>
                            <option value="sunday">Sunday</option>
                        </select>
                    </div>

                    <!-- Date selectors for semi-monthly -->
                    <div id="semi-monthly-dates" class="date-selector">
                        <div class="form-group">
                            <label for="first-pay-date">First Pay Date (e.g., 5th) *</label>
                            <input type="number" id="first-pay-date" name="first-pay-date" min="1" max="31">
                        </div>
                        <div class="form-group">
                            <label for="second-pay-date">Second Pay Date (e.g., 20th) *</label>
                            <input type="number" id="second-pay-date" name="second-pay-date" min="1" max="31">
                        </div>
                    </div>

                    <!-- Date selector for monthly -->
                    <div id="monthly-date" class="form-group date-selector">
                        <label for="monthly-pay-date">Pay Date (e.g., 1st) *</label>
                        <input type="number" id="monthly-pay-date" name="monthly-pay-date" min="1" max="31">
                    </div>

                    <div class="form-group">
                        <label>Is your employer able to be contacted? *</label>
                        <div class="checkbox-group">
                            <input type="radio" id="contact-yes" name="employer-contact" value="yes" onchange="toggleContactWarning(this)">
                            <label for="contact-yes">Yes</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="radio" id="contact-no" name="employer-contact" value="no" onchange="toggleContactWarning(this)">
                            <label for="contact-no">No</label>
                        </div>
                    </div>

                    <div id="contact-warning" class="conditional-section">
                        <div class="upload-area">
                            <p><strong>Note:</strong> You must provide paystubs either in person or upload them here.</p>
                            <input type="file" id="paystub-upload" name="paystub-upload" accept=".jpg,.jpeg,.png,.pdf">
                            <label for="paystub-upload" class="btn"><i class="fas fa-upload"></i> Upload Paystubs</label>
                        </div>
                    </div>
                </div>

                <div id="other-income-fields" class="conditional-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="income-source">Income Source *</label>
                            <input type="text" id="income-source" name="income-source">
                        </div>
                        <div class="form-group">
                            <label for="other-take-home">Take Home Monthly Amount *</label>
                            <input type="number" id="other-take-home" name="other-take-home" step="0.01">
                        </div>
                    </div>
                    
                    <div class="upload-area">
                        <p><strong>Note:</strong> You will be required to bring in official proof of income to the store or upload it here.</p>
                        <input type="file" id="income-proof-upload" name="income-proof-upload" accept=".jpg,.jpeg,.png,.pdf">
                        <label for="income-proof-upload" class="btn"><i class="fas fa-upload"></i> Upload Proof of Income</label>
                    </div>
                </div>

                <!-- Optional Additional Income Source -->
                <div class="checkbox-group">
                    <input type="checkbox" id="additional-income" name="additional-income" onchange="toggleAdditionalIncome(this)">
                    <label for="additional-income">Add another income source (optional)</label>
                </div>

                <div id="additional-income-section" class="conditional-section">
                    <h3>Additional Income Source (Optional)</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="additional-income-source">Income Source</label>
                            <input type="text" id="additional-income-source" name="additional-income-source">
                        </div>
                        <div class="form-group">
                            <label for="additional-income-amount">Monthly Amount</label>
                            <input type="number" id="additional-income-amount" name="additional-income-amount" step="0.01">
                        </div>
                    </div>
                </div>

                <div class="fun-element">
                    <p>We know talking about money isn't always fun, but it helps us help you find the perfect rental items! <i class="fas fa-piggy-bank"></i> <i class="fas fa-chart-line"></i></p>
                </div>
            </div>
        </div>

        <!-- Co-Renter Income Information Section (Initially Hidden) -->
        <div id="co-income-section" class="collapsible-menu" style="display: none;">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-money-bill-wave"></i> Co-Renter Income Information</h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <!-- Content would be similar to primary income section -->
                <p>Co-renter income information would be displayed here when co-renter is selected.</p>
            </div>
        </div>

        <!-- Residency Information Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-home"></i> Residency Information</h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <!-- Address Fields for All Users -->
                <h3>Address Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="street-address">Street Address *</label>
                        <input type="text" id="street-address" name="street-address" required>
                    </div>
                    <div class="form-group">
                        <label for="apt-number">Apt/Unit Number</label>
                        <input type="text" id="apt-number" name="apt-number">
                    </div>
                    <div class="form-group">
                        <label for="city">City *</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    <div class="form-group">
                        <label for="state">State *</label>
                        <select id="state" name="state" required>
                            <option value="">Select State</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesia</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="zip-code">ZIP Code *</label>
                        <input type="text" id="zip-code" name="zip-code" required pattern="[0-9]{5}(-[0-9]{4})?" title="Please enter a valid ZIP code">
                    </div>
                </div>

                <div class="form-group">
                    <label>Do you rent, own, or live with owner? *</label>
                    <div class="checkbox-group">
                        <input type="radio" id="residency-rent" name="residency-type" value="rent" onchange="toggleResidencyFields(this)">
                        <label for="residency-rent">Rent</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="radio" id="residency-own" name="residency-type" value="own" onchange="toggleResidencyFields(this)">
                        <label for="residency-own">Own</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="radio" id="residency-live-with" name="residency-type" value="live-with" onchange="toggleResidencyFields(this)">
                        <label for="residency-live-with">Live with Owner</label>
                    </div>
                </div>

                <div id="rent-fields" class="conditional-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="landlord-name">Landlord/Property Manager/Apartment Complex Name *</label>
                            <input type="text" id="landlord-name" name="landlord-name">
                        </div>
                        <div class="form-group">
                            <label for="landlord-phone">Contact Number *</label>
                            <input type="tel" id="landlord-phone" name="landlord-phone">
                        </div>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="no-contact-landlord" name="no-contact-landlord" onchange="toggleLandlordContactWarning(this)">
                        <label for="no-contact-landlord">Landlord cannot be contacted</label>
                    </div>

                    <div id="landlord-contact-warning" class="conditional-section">
                        <div class="upload-area">
                            <p><strong>Note:</strong> You will need to bring in a lease or utility bill with your legal name on the document or upload it here.</p>
                            <input type="file" id="lease-upload" name="lease-upload" accept=".jpg,.jpeg,.png,.pdf">
                            <label for="lease-upload" class="btn"><i class="fas fa-upload"></i> Upload Lease or Utility Bill</label>
                        </div>
                    </div>
                </div>

                <div id="own-fields" class="conditional-section">
                    <div class="upload-area">
                        <p>Please upload proof of ownership.</p>
                        <input type="file" id="ownership-upload" name="ownership-upload" accept=".jpg,.jpeg,.png,.pdf">
                        <label for="ownership-upload" class="btn"><i class="fas fa-upload"></i> Upload Proof of Ownership</label>
                    </div>
                </div>

                <div class="fun-element">
                    <p>Almost done! Just a few more sections to go before you can enjoy your new rental items! <i class="fas fa-home"></i> <i class="fas fa-thumbs-up"></i></p>
                </div>
            </div>
        </div>

        <!-- References Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-users"></i> References</h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-group">
                    <p><strong>Reference Note:</strong> Please provide five personal references. We strongly prefer parental figures or other close family before friends and coworkers. We may reach out for additional references or additional information.</p>
                </div>

                <div class="references-container">
                    <table class="references-table">
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>First Name *</th>
                                <th>Last Name *</th>
                                <th>Relationship *</th>
                                <th>Phone Number *</th>
                                <th>State *</th>
                                <th>Job/Occupation</th>
                                <th>What should we know before contacting?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Reference 1 (Required)</td>
                                <td><input type="text" name="ref1-first" required></td>
                                <td><input type="text" name="ref1-last" required></td>
                                <td><input type="text" name="ref1-relationship" required></td>
                                <td><input type="tel" name="ref1-phone" required></td>
                                <td><input type="text" name="ref1-state" required></td>
                                <td><input type="text" name="ref1-job"></td>
                                <td><textarea name="ref1-notes" rows="2"></textarea></td>
                            </tr>
                            <tr>
                                <td>Reference 2 (Required)</td>
                                <td><input type="text" name="ref2-first" required></td>
                                <td><input type="text" name="ref2-last" required></td>
                                <td><input type="text" name="ref2-relationship" required></td>
                                <td><input type="tel" name="ref2-phone" required></td>
                                <td><input type="text" name="ref2-state" required></td>
                                <td><input type="text" name="ref2-job"></td>
                                <td><textarea name="ref2-notes" rows="2"></textarea></td>
                            </tr>
                            <tr>
                                <td>Reference 3 (Required)</td>
                                <td><input type="text" name="ref3-first" required></td>
                                <td><input type="text" name="ref3-last" required></td>
                                <td><input type="text" name="ref3-relationship" required></td>
                                <td><input type="tel" name="ref3-phone" required></td>
                                <td><input type="text" name="ref3-state" required></td>
                                <td><input type="text" name="ref3-job"></td>
                                <td><textarea name="ref3-notes" rows="2"></textarea></td>
                            </tr>
                            <tr>
                                <td>Reference 4 (Required)</td>
                                <td><input type="text" name="ref4-first" required></td>
                                <td><input type="text" name="ref4-last" required></td>
                                <td><input type="text" name="ref4-relationship" required></td>
                                <td><input type="tel" name="ref4-phone" required></td>
                                <td><input type="text" name="ref4-state" required></td>
                                <td><input type="text" name="ref4-job"></td>
                                <td><textarea name="ref4-notes" rows="2"></textarea></td>
                            </tr>
                            <tr>
                                <td>Reference 5 (Required)</td>
                                <td><input type="text" name="ref5-first" required></td>
                                <td><input type="text" name="ref5-last" required></td>
                                <td><input type="text" name="ref5-relationship" required></td>
                                <td><input type="tel" name="ref5-phone" required></td>
                                <td><input type="text" name="ref5-state" required></td>
                                <td><input type="text" name="ref5-job"></td>
                                <td><textarea name="ref5-notes" rows="2"></textarea></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="fun-element">
                    <p>References help us get to know you better! <i class="fas fa-handshake"></i> <i class="fas fa-user-friends"></i></p>
                </div>
            </div>
        </div>

        <!-- Privacy and Disclosures Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-shield-alt"></i> Privacy and Disclosures</h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="disclosure-box">
                    <p>The information collected in this form is solely used by National TV to process rental applications. All contacts may be contacted for the sole purpose of processing this application. All information will be securely discarded in the event that rental application is denied or a proper consumer/business relationship is not established.</p>
                    <p>By submitting this form to National TV I certify that all information provided is accurate to the best of my knowledge and that I consent for National TV, or its delegates, at their sole discretion to use this information for the purpose of processing my application. I understand that by submitting this form that National TV reserves its right to approve or deny this application at its discretion.</p>
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="agree-disclosure" name="agree-disclosure" required>
                        <label for="agree-disclosure">I have read and agree to the above disclosures *</label>
                    </div>
                </div>

                <div class="fun-element">
                    <p>Thank you for completing our application! We look forward to helping you find the perfect appliances, furniture, and electronics! <i class="fas fa-tv"></i> <i class="fas fa-couch"></i> <i class="fas fa-blender"></i> <i class="fas fa-laptop"></i></p>
                </div>
            </div>
        </div>

        <!-- Additional Documents Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-file-upload"></i> Additional Documents</h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-group">
                    <label for="additional-docs">Upload any additional supporting documents</label>
                    <input type="file" id="additional-docs" name="additional-docs" multiple accept=".jpg,.jpeg,.png,.pdf">
                </div>
            </div>
        </div>

        <!-- Action buttons -->
        <div class="action-buttons">
            <button type="button" onclick="printForm()" class="btn"><i class="fas fa-print"></i> Print</button>
            <button type="button" onclick="submitToCloud()" class="btn btn-success"><i class="fas fa-cloud-upload-alt"></i> Submit Application</button>
        </div>
    </form>

    <div class="footer">
        <p>&copy; 2025 National TV Rental. All rights reserved.</p>
    </div>

    <script>
        // Toggle collapsible menus
        function toggleMenu(menuHeader) {
            const menuContent = menuHeader.nextElementSibling;
            const icon = menuHeader.querySelector('.menu-icon i');
            
            menuContent.classList.toggle('active');
            
            if (menuContent.classList.contains('active')) {
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            } else {
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            }
        }

        // Toggle co-renter section
        function toggleCoRenterSection(checkbox) {
            const coRenterSection = document.getElementById('corener-section');
            const coIncomeSection = document.getElementById('co-income-section');
            
            if (checkbox.checked) {
                coRenterSection.style.display = 'block';
                coIncomeSection.style.display = 'block';
                
                // Make co-renter fields required
                document.getElementById('co-first-name').required = true;
                document.getElementById('co-last-name').required = true;
                document.getElementById('co-birthdate').required = true;
                document.getElementById('co-ssn').required = true;
                document.getElementById('co-email').required = true;
                document.getElementById('co-phone').required = true;
                document.getElementById('co-contact-time').required = true;
            } else {
                coRenterSection.style.display = 'none';
                coIncomeSection.style.display = 'none';
                
                // Remove required attribute from co-renter fields
                document.getElementById('co-first-name').required = false;
                document.getElementById('co-last-name').required = false;
                document.getElementById('co-birthdate').required = false;
                document.getElementById('co-ssn').required = false;
                document.getElementById('co-email').required = false;
                document.getElementById('co-phone').required = false;
                document.getElementById('co-contact-time').required = false;
            }
        }

        // Toggle employment fields
        function toggleEmploymentFields(radio) {
            const employmentFields = document.getElementById('employment-fields');
            const otherIncomeFields = document.getElementById('other-income-fields');
            
            if (radio.value === 'yes') {
                employmentFields.style.display = 'block';
                otherIncomeFields.style.display = 'none';
                
                // Make employment fields required
                document.getElementById('employer').required = true;
                document.getElementById('job-title').required = true;
                document.getElementById('shift').required = true;
                document.getElementById('income-type').required = true;
                document.getElementById('pay-frequency').required = true;
                document.getElementById('take-home-pay').required = true;
                
                // Remove required from other income fields
                document.getElementById('income-source').required = false;
                document.getElementById('other-take-home').required = false;
            } else {
                employmentFields.style.display = 'none';
                otherIncomeFields.style.display = 'block';
                
                // Remove required from employment fields
                document.getElementById('employer').required = false;
                document.getElementById('job-title').required = false;
                document.getElementById('shift').required = false;
                document.getElementById('income-type').required = false;
                document.getElementById('pay-frequency').required = false;
                document.getElementById('take-home-pay').required = false;
                
                // Make other income fields required
                document.getElementById('income-source').required = true;
                document.getElementById('other-take-home').required = true;
            }
        }

        // Toggle income type fields
        function toggleIncomeFields(select) {
            const hourlyRateField = document.getElementById('hourly-rate-field');
            const monthlySalaryField = document.getElementById('monthly-salary-field');
            
            if (select.value === 'hourly') {
                hourlyRateField.style.display = 'block';
                monthlySalaryField.style.display = 'none';
                
                document.getElementById('hourly-rate').required = true;
                document.getElementById('monthly-salary').required = false;
            } else if (select.value === 'salary') {
                hourlyRateField.style.display = 'none';
                monthlySalaryField.style.display = 'block';
                
                document.getElementById('hourly-rate').required = false;
                document.getElementById('monthly-salary').required = true;
            } else {
                hourlyRateField.style.display = 'none';
                monthlySalaryField.style.display = 'none';
                
                document.getElementById('hourly-rate').required = false;
                document.getElementById('monthly-salary').required = false;
            }
        }

        // Toggle pay frequency fields
        function togglePayFrequencyFields(select) {
            const dayOfWeekField = document.getElementById('day-of-week-field');
            const semiMonthlyDates = document.getElementById('semi-monthly-dates');
            const monthlyDate = document.getElementById('monthly-date');
            
            // Hide all first
            dayOfWeekField.style.display = 'none';
            semiMonthlyDates.style.display = 'none';
            monthlyDate.style.display = 'none';
            
            // Reset required fields
            document.getElementById('pay-day').required = false;
            document.getElementById('first-pay-date').required = false;
            document.getElementById('second-pay-date').required = false;
            document.getElementById('monthly-pay-date').required = false;
            
            // Show appropriate fields based on selection
            if (select.value === 'weekly' || select.value === 'biweekly') {
                dayOfWeekField.style.display = 'block';
                document.getElementById('pay-day').required = true;
            } else if (select.value === 'semimonthly') {
                semiMonthlyDates.style.display = 'block';
                document.getElementById('first-pay-date').required = true;
                document.getElementById('second-pay-date').required = true;
            } else if (select.value === 'monthly') {
                monthlyDate.style.display = 'block';
                document.getElementById('monthly-pay-date').required = true;
            }
        }

        // Toggle additional income section
        function toggleAdditionalIncome(checkbox) {
            const additionalIncomeSection = document.getElementById('additional-income-section');
            
            if (checkbox.checked) {
                additionalIncomeSection.style.display = 'block';
            } else {
                additionalIncomeSection.style.display = 'none';
            }
        }

        // Toggle employer contact warning
        function toggleContactWarning(radio) {
            const contactWarning = document.getElementById('contact-warning');
            
            if (radio.value === 'no') {
                contactWarning.style.display = 'block';
            } else {
                contactWarning.style.display = 'none';
            }
        }

        // Toggle residency fields
        function toggleResidencyFields(radio) {
            const rentFields = document.getElementById('rent-fields');
            const ownFields = document.getElementById('own-fields');
            
            // Reset required fields
            document.getElementById('landlord-name').required = false;
            document.getElementById('landlord-phone').required = false;
            
            if (radio.value === 'rent') {
                rentFields.style.display = 'block';
                ownFields.style.display = 'none';
                
                document.getElementById('landlord-name').required = true;
                document.getElementById('landlord-phone').required = true;
            } else if (radio.value === 'own') {
                rentFields.style.display = 'none';
                ownFields.style.display = 'block';
            } else {
                rentFields.style.display = 'none';
                ownFields.style.display = 'none';
            }
        }

        // Toggle landlord contact warning
        function toggleLandlordContactWarning(checkbox) {
            const landlordContactWarning = document.getElementById('landlord-contact-warning');
            
            if (checkbox.checked) {
                landlordContactWarning.style.display = 'block';
            } else {
                landlordContactWarning.style.display = 'none';
            }
        }

        // Validation function
        function validateForm() {
            // Clear previous validation errors
            document.querySelectorAll('.validation-error').forEach(el => {
                el.classList.remove('validation-error');
            });
            
            const errors = [];
            const form = document.getElementById('rental-application');
            
            // Check all visible required fields
            const requiredFields = form.querySelectorAll('[required]');
            
            requiredFields.forEach(field => {
                // Skip validation for hidden fields
                if (!field.offsetParent || field.closest('[style*="display: none"]')) {
                    return;
                }
                
                let isValid = true;
                let errorMessage = '';
                
                if (!field.value) {
                    isValid = false;
                    errorMessage = 'is required';
                } else if (field.type === 'email' && !isValidEmail(field.value)) {
                    isValid = false;
                    errorMessage = 'must be a valid email address';
                } else if (field.id === 'ssn' && !isValidSSN(field.value)) {
                    isValid = false;
                    errorMessage = 'must be a valid 9-digit SSN';
                } else if (field.id === 'zip-code' && !isValidZipCode(field.value)) {
                    isValid = false;
                    errorMessage = 'must be a valid ZIP code';
                } else if (field.type === 'checkbox' && !field.checked) {
                    isValid = false;
                    errorMessage = 'must be checked';
                }
                
                if (!isValid) {
                    field.classList.add('validation-error');
                    
                    // Find the field label
                    let fieldName = 'Field';
                    const label = form.querySelector(`label[for="${field.id}"]`) || 
                                 field.closest('.form-group')?.querySelector('label') ||
                                 field.closest('td')?.previousElementSibling;
                    
                    if (label) {
                        fieldName = label.textContent.replace('*', '').trim();
                    }
                    
                    errors.push({
                        field: field,
                        message: `${fieldName} ${errorMessage}`,
                        section: field.closest('.collapsible-menu')?.querySelector('h2')?.textContent || 'General'
                    });
                }
            });
            
            // Special validation for radio buttons
            const employmentRadio = document.querySelector('input[name="employment-primary"]:checked');
            if (!employmentRadio) {
                errors.push({
                    field: document.getElementById('employment-yes'),
                    message: 'Employment primary income selection is required',
                    section: 'Income Information'
                });
            }
            
            const residencyRadio = document.querySelector('input[name="residency-type"]:checked');
            if (!residencyRadio) {
                errors.push({
                    field: document.getElementById('residency-rent'),
                    message: 'Residency type selection is required',
                    section: 'Residency Information'
                });
            }
            
            const employerContactRadio = document.querySelector('input[name="employer-contact"]:checked');
            if (document.getElementById('employment-fields').style.display === 'block' && !employerContactRadio) {
                errors.push({
                    field: document.getElementById('contact-yes'),
                    message: 'Employer contact selection is required',
                    section: 'Income Information'
                });
            }
            
            if (errors.length > 0) {
                showValidationErrors(errors);
                return false;
            }
            
            return true;
        }

        // Helper validation functions
        function isValidEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function isValidSSN(ssn) {
            const re = /^\d{9}$/;
            return re.test(ssn.replace(/-/g, ''));
        }

        function isValidZipCode(zip) {
            const re = /^\d{5}(-\d{4})?$/;
            return re.test(zip);
        }

        // Show validation errors in a popup
        function showValidationErrors(errors) {
            // Remove any existing validation popup
            const existingPopup = document.getElementById('validation-popup');
            if (existingPopup) {
                existingPopup.remove();
            }
            
            const existingOverlay = document.querySelector('.overlay');
            if (existingOverlay) {
                existingOverlay.remove();
            }
            
            // Create overlay
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            document.body.appendChild(overlay);
            
            // Create popup
            const popup = document.createElement('div');
            popup.className = 'validation-popup';
            popup.id = 'validation-popup';
            
            let html = '<h3>Please complete the following fields:</h3>';
            html += '<div class="validation-list">';
            
            // Group errors by section
            const sectionErrors = {};
            errors.forEach(error => {
                if (!sectionErrors[error.section]) {
                    sectionErrors[error.section] = [];
                }
                sectionErrors[error.section].push(error);
            });
            
            // Display errors in order of sections from top to bottom
            const sections = [
                'Primary Renter Information',
                'Income Information',
                'Co-Renter Income Information',
                'Residency Information',
                'References',
                'Privacy and Disclosures',
                'Additional Documents',
                'General'
            ];
            
            sections.forEach(section => {
                if (sectionErrors[section]) {
                    html += `<div style="font-weight: bold; margin-top: 10px; color: var(--primary-blue);">${section}</div>`;
                    
                    sectionErrors[section].forEach(error => {
                        html += `<div class="validation-item"><i class="fas fa-exclamation-circle"></i> ${error.message}</div>`;
                    });
                }
            });
            
            html += '</div>';
            html += '<div class="validation-buttons">';
            html += '<button class="btn btn-primary" onclick="closeValidationPopup()">OK</button>';
            html += '</div>';
            
            popup.innerHTML = html;
            document.body.appendChild(popup);
            
            // Scroll to first error field
            if (errors[0] && errors[0].field) {
                errors[0].field.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Open the section containing the error if it's collapsed
                const section = errors[0].field.closest('.collapsible-menu');
                if (section) {
                    const menuHeader = section.querySelector('.menu-header');
                    const menuContent = section.querySelector('.menu-content');
                    
                    if (!menuContent.classList.contains('active')) {
                        toggleMenu(menuHeader);
                    }
                }
            }
        }

        // Close validation popup
        function closeValidationPopup() {
            const popup = document.getElementById('validation-popup');
            const overlay = document.querySelector('.overlay');
            
            if (popup) popup.remove();
            if (overlay) overlay.remove();
        }

        // Print form function
        function printForm() {
            if (!validateForm()) {
                return;
            }
            
            // Create a printable version of the form
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>National TV Rental Application</title>
                    <style>
                        body {
                            font-family: Arial, sans-serif;
                            font-size: 12px;
                            line-height: 1.4;
                            color: #000;
                            padding: 20px;
                        }
                        .print-header {
                            text-align: center;
                            margin-bottom: 20px;
                            padding-bottom: 10px;
                            border-bottom: 2px solid #0066cc;
                        }
                        .print-section {
                            margin-bottom: 15px;
                            page-break-inside: avoid;
                        }
                        .print-section h3 {
                            border-bottom: 1px solid #ccc;
                            padding-bottom: 5px;
                            margin-bottom: 10px;
                            color: #0066cc;
                        }
                        .print-row {
                            display: flex;
                            margin-bottom: 5px;
                        }
                        .print-label {
                            font-weight: bold;
                            width: 40%;
                        }
                        .print-value {
                            width: 60%;
                        }
                        .print-uploads {
                            margin-top: 10px;
                        }
                        .print-upload-item {
                            margin-bottom: 5px;
                        }
                        @media print {
                            body {
                                padding: 0;
                                margin: 0;
                            }
                            .print-section {
                                page-break-inside: avoid;
                            }
                        }
                    </style>
                </head>
                <body>
                    <div class="print-header">
                        <h1>National TV Rental Application</h1>
                        <p>Generated on ${new Date().toLocaleDateString()}</p>
                    </div>
                    <div id="printable-content">
            `);
            
            // Add primary renter information
            printWindow.document.write(`
                <div class="print-section">
                    <h3>Primary Renter Information</h3>
                    <div class="print-row">
                        <div class="print-label">First Name:</div>
                        <div class="print-value">${document.getElementById('first-name').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Last Name:</div>
                        <div class="print-value">${document.getElementById('last-name').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Maiden Name:</div>
                        <div class="print-value">${document.getElementById('maiden-name').value || 'N/A'}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Birthdate:</div>
                        <div class="print-value">${document.getElementById('birthdate').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">SSN:</div>
                        <div class="print-value">${document.getElementById('ssn').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Email:</div>
                        <div class="print-value">${document.getElementById('email').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Phone:</div>
                        <div class="print-value">${document.getElementById('phone').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Best Time to Contact:</div>
                        <div class="print-value">${document.getElementById('contact-time').options[document.getElementById('contact-time').selectedIndex].text}</div>
                    </div>
            `);
            
            // Add co-renter information if applicable
            if (document.getElementById('has-corener').checked) {
                printWindow.document.write(`
                    <h4>Co-Renter Information</h4>
                    <div class="print-row">
                        <div class="print-label">First Name:</div>
                        <div class="print-value">${document.getElementById('co-first-name').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Last Name:</div>
                        <div class="print-value">${document.getElementById('co-last-name').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Maiden Name:</div>
                        <div class="print-value">${document.getElementById('co-maiden-name').value || 'N/A'}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Birthdate:</div>
                        <div class="print-value">${document.getElementById('co-birthdate').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">SSN:</div>
                        <div class="print-value">${document.getElementById('co-ssn').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Email:</div>
                        <div class="print-value">${document.getElementById('co-email').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Phone:</div>
                        <div class="print-value">${document.getElementById('co-phone').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Best Time to Contact:</div>
                        <div class="print-value">${document.getElementById('co-contact-time').options[document.getElementById('co-contact-time').selectedIndex].text}</div>
                    </div>
                `);
            }
            
            // Add vehicle information
            printWindow.document.write(`
                <h4>Vehicle Information</h4>
                <div class="print-row">
                    <div class="print-label">Make:</div>
                    <div class="print-value">${document.getElementById('vehicle-make').value || 'N/A'}</div>
                </div>
                <div class="print-row">
                    <div class="print-label">Model:</div>
                    <div class="print-value">${document.getElementById('vehicle-model').value || 'N/A'}</div>
                </div>
                <div class="print-row">
                    <div class="print-label">License Plate:</div>
                    <div class="print-value">${document.getElementById('license-plate').value || 'N/A'}</div>
                </div>
                <div class="print-row">
                    <div class="print-label">Color:</div>
                    <div class="print-value">${document.getElementById('vehicle-color').value || 'N/A'}</div>
                </div>
                </div>
            `);
            
            // Add income information
            printWindow.document.write(`
                <div class="print-section">
                    <h3>Income Information</h3>
            `);
            
            if (document.getElementById('employment-yes').checked) {
                printWindow.document.write(`
                    <div class="print-row">
                        <div class="print-label">Employment Primary Income:</div>
                        <div class="print-value">Yes</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Employer:</div>
                        <div class="print-value">${document.getElementById('employer').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Job Title:</div>
                        <div class="print-value">${document.getElementById('job-title').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Shift:</div>
                        <div class="print-value">${document.getElementById('shift').options[document.getElementById('shift').selectedIndex].text}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Income Type:</div>
                        <div class="print-value">${document.getElementById('income-type').options[document.getElementById('income-type').selectedIndex].text}</div>
                    </div>
                `);
                
                if (document.getElementById('income-type').value === 'hourly') {
                    printWindow.document.write(`
                        <div class="print-row">
                            <div class="print-label">Hourly Rate:</div>
                            <div class="print-value">$${document.getElementById('hourly-rate').value}</div>
                        </div>
                    `);
                } else {
                    printWindow.document.write(`
                        <div class="print-row">
                            <div class="print-label">Monthly Salary:</div>
                            <div class="print-value">$${document.getElementById('monthly-salary').value}</div>
                        </div>
                    `);
                }
                
                printWindow.document.write(`
                    <div class="print-row">
                        <div class="print-label">Pay Frequency:</div>
                        <div class="print-value">${document.getElementById('pay-frequency').options[document.getElementById('pay-frequency').selectedIndex].text}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Take Home Pay:</div>
                        <div class="print-value">$${document.getElementById('take-home-pay').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Employer Contactable:</div>
                        <div class="print-value">${document.querySelector('input[name="employer-contact"]:checked').value === 'yes' ? 'Yes' : 'No'}</div>
                    </div>
                `);
            } else {
                printWindow.document.write(`
                    <div class="print-row">
                        <div class="print-label">Employment Primary Income:</div>
                        <div class="print-value">No</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Income Source:</div>
                        <div class="print-value">${document.getElementById('income-source').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Take Home Monthly Amount:</div>
                        <div class="print-value">$${document.getElementById('other-take-home').value}</div>
                    </div>
                `);
            }
            
            // Add additional income if applicable
            if (document.getElementById('additional-income').checked) {
                printWindow.document.write(`
                    <h4>Additional Income</h4>
                    <div class="print-row">
                        <div class="print-label">Income Source:</div>
                        <div class="print-value">${document.getElementById('additional-income-source').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Monthly Amount:</div>
                        <div class="print-value">$${document.getElementById('additional-income-amount').value}</div>
                    </div>
                `);
            }
            
            printWindow.document.write('</div>');
            
            // Add residency information
            printWindow.document.write(`
                <div class="print-section">
                    <h3>Residency Information</h3>
                    <div class="print-row">
                        <div class="print-label">Street Address:</div>
                        <div class="print-value">${document.getElementById('street-address').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Apt/Unit:</div>
                        <div class="print-value">${document.getElementById('apt-number').value || 'N/A'}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">City:</div>
                        <div class="print-value">${document.getElementById('city').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">State:</div>
                        <div class="print-value">${document.getElementById('state').options[document.getElementById('state').selectedIndex].text}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">ZIP Code:</div>
                        <div class="print-value">${document.getElementById('zip-code').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Residency Type:</div>
                        <div class="print-value">${document.querySelector('input[name="residency-type"]:checked').value}</div>
                    </div>
            `);
            
            if (document.getElementById('residency-rent').checked) {
                printWindow.document.write(`
                    <div class="print-row">
                        <div class="print-label">Landlord/Property Manager:</div>
                        <div class="print-value">${document.getElementById('landlord-name').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Landlord Phone:</div>
                        <div class="print-value">${document.getElementById('landlord-phone').value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Landlord Contactable:</div>
                        <div class="print-value">${document.getElementById('no-contact-landlord').checked ? 'No' : 'Yes'}</div>
                    </div>
                `);
            }
            
            printWindow.document.write('</div>');
            
            // Add references
            printWindow.document.write(`
                <div class="print-section">
                    <h3>References</h3>
            `);
            
            for (let i = 1; i <= 5; i++) {
                printWindow.document.write(`
                    <h4>Reference ${i}</h4>
                    <div class="print-row">
                        <div class="print-label">First Name:</div>
                        <div class="print-value">${document.querySelector(`[name="ref${i}-first"]`).value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Last Name:</div>
                        <div class="print-value">${document.querySelector(`[name="ref${i}-last"]`).value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Relationship:</div>
                        <div class="print-value">${document.querySelector(`[name="ref${i}-relationship"]`).value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Phone:</div>
                        <div class="print-value">${document.querySelector(`[name="ref${i}-phone"]`).value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">State:</div>
                        <div class="print-value">${document.querySelector(`[name="ref${i}-state"]`).value}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Job/Occupation:</div>
                        <div class="print-value">${document.querySelector(`[name="ref${i}-job"]`).value || 'N/A'}</div>
                    </div>
                    <div class="print-row">
                        <div class="print-label">Notes:</div>
                        <div class="print-value">${document.querySelector(`[name="ref${i}-notes"]`).value || 'N/A'}</div>
                    </div>
                `);
            }
            
            printWindow.document.write('</div>');
            
            // Add uploaded files
            printWindow.document.write(`
                <div class="print-section">
                    <h3>Uploaded Documents</h3>
                    <div class="print-uploads">
            `);
            
            const fileInputs = document.querySelectorAll('input[type="file"]');
            fileInputs.forEach(input => {
                if (input.files.length > 0) {
                    for (let i = 0; i < input.files.length; i++) {
                        printWindow.document.write(`
                            <div class="print-upload-item">
                                <strong>${input.id}:</strong> ${input.files[i].name}
                            </div>
                        `);
                    }
                }
            });
            
            printWindow.document.write(`
                    </div>
                </div>
            `);
            
            // Add disclosure agreement
            printWindow.document.write(`
                <div class="print-section">
                    <h3>Agreements</h3>
                    <div class="print-row">
                        <div class="print-label">Disclosure Agreement:</div>
                        <div class="print-value">${document.getElementById('agree-disclosure').checked ? 'Agreed' : 'Not Agreed'}</div>
                    </div>
                </div>
            `);
            
            printWindow.document.write(`
                    </div>
                </body>
                </html>
            `);
            
            printWindow.document.close();
            
            // Print the document after a short delay to ensure it's fully loaded
            setTimeout(() => {
                printWindow.print();
            }, 500);
        }

        // Submit to cloud function
        function submitToCloud() {
            if (!validateForm()) {
                return;
            }
            
            // Create FormData object to collect all form data
            const formData = new FormData(document.getElementById('rental-application'));
            
            // Add all uploaded files
            const fileInputs = document.querySelectorAll('input[type="file"]');
            fileInputs.forEach(input => {
                if (input.files.length > 0) {
                    for (let i = 0; i < input.files.length; i++) {
                        formData.append(input.name, input.files[i]);
                    }
                }
            });
            
            // Placeholder URL for Google Web Apps Script
            const scriptURL = 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec';
            
            // Show loading state
            const submitButton = document.querySelector('.btn-success');
            const originalText = submitButton.innerHTML;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
            submitButton.disabled = true;
            
            // Send data to Google Web Apps Script
            fetch(scriptURL, {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    alert('Application submitted successfully!');
                } else {
                    throw new Error('Network response was not ok.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('There was an error submitting your application. Please try again.');
            })
            .finally(() => {
                // Restore button state
                submitButton.innerHTML = originalText;
                submitButton.disabled = false;
            });
        }

        // Initialize hidden sections
        window.onload = function() {
            document.getElementById('corener-section').style.display = 'none';
            document.getElementById('co-income-section').style.display = 'none';
            document.getElementById('employment-fields').style.display = 'none';
            document.getElementById('other-income-fields').style.display = 'none';
            document.getElementById('hourly-rate-field').style.display = 'none';
            document.getElementById('monthly-salary-field').style.display = 'none';
            document.getElementById('contact-warning').style.display = 'none';
            document.getElementById('rent-fields').style.display = 'none';
            document.getElementById('own-fields').style.display = 'none';
            document.getElementById('landlord-contact-warning').style.display = 'none';
            document.getElementById('additional-income-section').style.display = 'none';
            
            // Hide all pay frequency fields initially
            document.querySelectorAll('.day-selector, .date-selector').forEach(el => {
                el.style.display = 'none';
            });
        };
    </script>
</body>
</html>