<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>National TV Rental Application</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.3.5/signature_pad.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <style>
        :root {
            --primary-blue: #0066cc;
            --primary-red: #cc0000;
            --light-blue: #e6f0ff;
            --light-red: #ffe6e6;
            --dark-gray: #333;
            --light-gray: #f5f5f5;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9f9f9;
            color: var(--dark-gray);
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-blue) 0%, #004d99 100%);
            border-radius: var(--border-radius);
            color: white;
            box-shadow: var(--box-shadow);
        }

        .logo {
            max-width: 200px;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .application-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .collapsible-menu {
            border-bottom: 1px solid #ddd;
        }

        .menu-header {
            background-color: var(--primary-blue);
            color: white;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s;
        }

        .menu-header:hover {
            background-color: #0055aa;
        }

        .menu-header h2 {
            margin: 0;
            font-size: 1.4rem;
        }

        .menu-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease;
        }

        .menu-content.active {
            padding: 20px;
            max-height: 5000px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--dark-gray);
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: border 0.3s;
        }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: var(--primary-blue);
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 102, 204, 0.2);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }

        .checkbox-group input {
            margin-right: 10px;
            width: 18px;
            height: 18px;
        }

        .conditional-section {
            padding: 15px;
            background-color: var(--light-blue);
            border-radius: var(--border-radius);
            margin-top: 15px;
            display: none;
        }

        .signature-pad-container {
            margin: 20px 0;
            border: 2px solid var(--primary-blue);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .signature-pad {
            width: 100%;
            height: 200px;
            background-color: white;
            cursor: crosshair;
        }

        .signature-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background-color: var(--primary-blue);
            color: white;
        }

        .btn-primary:hover {
            background-color: #0055aa;
        }

        .btn-danger {
            background-color: var(--primary-red);
            color: white;
        }

        .btn-danger:hover {
            background-color: #b30000;
        }

        .btn-success {
            background-color: #28a745;
            color: white;
        }

        .btn-success:hover {
            background-color: #218838;
        }

        .upload-area {
            border: 2px dashed #ccc;
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            margin: 15px 0;
            transition: border 0.3s;
        }

        .upload-area:hover {
            border-color: var(--primary-blue);
        }

        .references-container {
            overflow-x: auto;
            max-height: 400px;
            margin: 20px 0;
        }

        .references-table {
            width: 100%;
            border-collapse: collapse;
        }

        .references-table th,
        .references-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
            white-space: nowrap;
        }

        .references-table th {
            background-color: var(--light-blue);
            position: sticky;
            top: 0;
        }

        .disclosure-box {
            max-height: 200px;
            overflow-y: auto;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            margin: 20px 0;
            background-color: var(--light-gray);
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #666;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .menu-header h2 {
                font-size: 1.2rem;
            }
            
            .signature-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
            
            .references-container {
                overflow-x: auto;
            }
        }

        .fun-element {
            text-align: center;
            margin: 10px 0;
        }

        .fun-element i {
            color: var(--primary-red);
            margin: 0 5px;
            font-size: 1.5rem;
        }
        
        /* Language Toggle */
        .language-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            padding: 10px 15px;
            border-radius: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .language-toggle label {
            margin: 0;
            font-weight: normal;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--primary-blue);
        }
        
        input:checked + .slider:before {
            transform: translateX(30px);
        }
        
        /* Print styles */
        @media print {
            body * {
                visibility: hidden;
            }
            #printable-application, #printable-application * {
                visibility: visible;
            }
            #printable-application {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                padding: 15px;
                font-size: 12px;
            }
            .print-section {
                margin-bottom: 15px;
                page-break-inside: avoid;
            }
            .print-field {
                margin-bottom: 5px;
            }
            .print-label {
                font-weight: bold;
                display: inline-block;
                width: 160px;
            }
            .signature-img {
                max-width: 250px;
                border-top: 1px solid #000;
                margin-top: 40px;
            }
            .print-upload {
                page-break-inside: avoid;
                margin-bottom: 10px;
            }
            .print-upload-title {
                font-weight: bold;
                margin-bottom: 5px;
            }
            .print-upload-image {
                max-width: 100%;
                max-height: 300px;
            }
        }
        
        /* Signature saved state */
        .signature-saved {
            display: none;
            text-align: center;
            padding: 15px;
            border: 2px solid #28a745;
            border-radius: var(--border-radius);
            margin: 20px 0;
        }
        
        .signature-saved p {
            margin-bottom: 10px;
            color: #28a745;
            font-weight: bold;
        }
        
        .signature-edit-btn {
            background-color: var(--primary-blue);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Language Toggle -->
    <div class="language-toggle">
        <label for="language-toggle">English</label>
        <div class="toggle-switch">
            <input type="checkbox" id="language-toggle" onchange="toggleLanguage()">
            <span class="slider"></span>
        </div>
        <label for="language-toggle">Español</label>
    </div>

    <div class="header">
        <img src="https://i.postimg.cc/mgntq2LV/IMG-4221.png" class="logo">
        <h1 data-en="National TV Rental Application" data-es="Solicitud de Alquiler de National TV">National TV Rental Application</h1>
    </div>

    <form id="rental-application" class="application-container">
        <!-- Primary Renter Information Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-user-circle"></i> <span data-en="Primary Renter Information" data-es="Información del Arrendatario Principal">Primary Renter Information</span></h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="first-name" data-en="First Name *" data-es="Nombre *">First Name *</label>
                        <input type="text" id="first-name" name="first-name" required>
                    </div>
                    <div class="form-group">
                        <label for="last-name" data-en="Last Name *" data-es="Apellido *">Last Name *</label>
                        <input type="text" id="last-name" name="last-name" required>
                    </div>
                    <div class="form-group">
                        <label for="maiden-name" data-en="Maiden Name (if applicable)" data-es="Apellido de Soltera (si aplica)">Maiden Name (if applicable)</label>
                        <input type="text" id="maiden-name" name="maiden-name">
                    </div>
                    <div class="form-group">
                        <label for="birthdate" data-en="Birthdate *" data-es="Fecha de Nacimiento *">Birthdate *</label>
                        <input type="date" id="birthdate" name="birthdate" required>
                    </div>
                    <div class="form-group">
                        <label for="ssn" data-en="Social Security Number *" data-es="Número de Seguro Social *">Social Security Number *</label>
                        <input type="text" id="ssn" name="ssn" required pattern="[0-9]{9}" title="Please enter a valid 9-digit SSN">
                    </div>
                    <div class="form-group">
                        <label for="email" data-en="Email Address *" data-es="Correo Electrónico *">Email Address *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone" data-en="Phone Number *" data-es="Número de Teléfono *">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="contact-time" data-en="Best Time to Contact *" data-es="Mejor Horario para Contactar *">Best Time to Contact *</label>
                        <select id="contact-time" name="contact-time" required>
                            <option value="" data-en="Select a time" data-es="Seleccione un horario">Select a time</option>
                            <option value="morning" data-en="Morning (8AM-12PM)" data-es="Mañana (8AM-12PM)">Morning (8AM-12PM)</option>
                            <option value="afternoon" data-en="Afternoon (12PM-5PM)" data-es="Tarde (12PM-5PM)">Afternoon (12PM-5PM)</option>
                            <option value="evening" data-en="Evening (5PM-9PM)" data-es="Noche (5PM-9PM)">Evening (5PM-9PM)</option>
                        </select>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="has-corener" name="has-corener" onchange="toggleCoRenterSection(this)">
                    <label for="has-corener" data-en="I have a co-renter" data-es="Tengo un co-arrendatario">I have a co-renter</label>
                </div>

                <div id="corener-section" class="conditional-section">
                    <h3 data-en="Co-Renter Information" data-es="Información del Co-Arrendatario">Co-Renter Information</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="co-first-name" data-en="First Name *" data-es="Nombre *">First Name *</label>
                            <input type="text" id="co-first-name" name="co-first-name">
                        </div>
                        <div class="form-group">
                            <label for="co-last-name" data-en="Last Name *" data-es="Apellido *">Last Name *</label>
                            <input type="text" id="co-last-name" name="co-last-name">
                        </div>
                        <div class="form-group">
                            <label for="co-maiden-name" data-en="Maiden Name (if applicable)" data-es="Apellido de Soltera (si aplica)">Maiden Name (if applicable)</label>
                            <input type="text" id="co-maiden-name" name="co-maiden-name">
                        </div>
                        <div class="form-group">
                            <label for="co-birthdate" data-en="Birthdate *" data-es="Fecha de Nacimiento *">Birthdate *</label>
                            <input type="date" id="co-birthdate" name="co-birthdate">
                        </div>
                        <div class="form-group">
                            <label for="co-ssn" data-en="Social Security Number *" data-es="Número de Seguro Social *">Social Security Number *</label>
                            <input type="text" id="co-ssn" name="co-ssn" pattern="[0-9]{9}" title="Please enter a valid 9-digit SSN">
                        </div>
                        <div class="form-group">
                            <label for="co-email" data-en="Email Address *" data-es="Correo Electrónico *">Email Address *</label>
                            <input type="email" id="co-email" name="co-email">
                        </div>
                        <div class="form-group">
                            <label for="co-phone" data-en="Phone Number *" data-es="Número de Teléfono *">Phone Number *</label>
                        <input type="tel" id="co-phone" name="co-phone">
                        </div>
                        <div class="form-group">
                            <label for="co-contact-time" data-en="Best Time to Contact *" data-es="Mejor Horario para Contactar *">Best Time to Contact *</label>
                            <select id="co-contact-time" name="co-contact-time">
                                <option value="" data-en="Select a time" data-es="Seleccione un horario">Select a time</option>
                                <option value="morning" data-en="Morning (8AM-12PM)" data-es="Mañana (8AM-12PM)">Morning (8AM-12PM)</option>
                                <option value="afternoon" data-en="Afternoon (12PM-5PM)" data-es="Tarde (12PM-5PM)">Afternoon (12PM-5PM)</option>
                                <option value="evening" data-en="Evening (5PM-9PM)" data-es="Noche (5PM-9PM)">Evening (5PM-9PM)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <h3 data-en="Vehicle Information" data-es="Información del Vehículo">Vehicle Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="vehicle-make" data-en="Make" data-es="Marca">Make</label>
                        <input type="text" id="vehicle-make" name="vehicle-make">
                    </div>
                    <div class="form-group">
                        <label for="vehicle-model" data-en="Model" data-es="Modelo">Model</label>
                        <input type="text" id="vehicle-model" name="vehicle-model">
                    </div>
                    <div class="form-group">
                        <label for="license-plate" data-en="License Plate Number" data-es="Número de Placa">License Plate Number</label>
                        <input type="text" id="license-plate" name="license-plate">
                    </div>
                    <div class="form-group">
                        <label for="vehicle-color" data-en="Color" data-es="Color">Color</label>
                        <input type="text" id="vehicle-color" name="vehicle-color">
                    </div>
                </div>

                <div class="form-group">
                    <label data-en="Vehicle Status" data-es="Estado del Vehículo">Vehicle Status</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="rented" name="vehicle-status" value="rented">
                        <label for="rented" data-en="Rented" data-es="Alquilado">Rented</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="leased" name="vehicle-status" value="leased">
                        <label for="leased" data-en="Leased" data-es="Arrendado">Leased</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="owned" name="vehicle-status" value="owned">
                        <label for="owned" data-en="Owned" data-es="Propio">Owned</label>
                    </div>
                </div>

                <div class="upload-area">
                    <h3><i class="fas fa-id-card"></i> <span data-en="ID Upload" data-es="Subir Identificación">ID Upload</span></h3>
                    <p data-en="Please upload a copy of your government-issued ID. If you don't upload now, you'll need to bring an unexpired copy to the store." data-es="Suba una copia de su identificación oficial. Si no sube ahora, necesitará traer una copia vigente a la tienda.">Please upload a copy of your government-issued ID. If you don't upload now, you'll need to bring an unexpired copy to the store.</p>
                    <input type="file" id="id-upload" name="id-upload" accept=".jpg,.jpeg,.png,.pdf">
                    <label for="id-upload" class="btn btn-primary"><i class="fas fa-upload"></i> <span data-en="Choose File" data-es="Seleccionar Archivo">Choose File</span></label>
                </div>

                <div class="fun-element">
                    <p data-en="We're excited to help you get the perfect rental items for your home!" data-es="¡Estamos emocionados de ayudarle a encontrar los artículos de alquiler perfectos para su hogar!">We're excited to help you get the perfect rental items for your home! <i class="fas fa-tv"></i> <i class="fas fa-couch"></i> <i class="fas fa-blender"></i> <i class="fas fa-laptop"></i></p>
                </div>
            </div>
        </div>

        <!-- Income Information Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-money-bill-wave"></i> <span data-en="Income Information" data-es="Información de Ingresos">Income Information</span></h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-group">
                    <label data-en="Is employment your primary source of income? *" data-es="¿Es el empleo su principal fuente de ingresos? *">Is employment your primary source of income? *</label>
                    <div class="checkbox-group">
                        <input type="radio" id="employment-yes" name="employment-primary" value="yes" onchange="toggleEmploymentFields(this)">
                        <label for="employment-yes" data-en="Yes" data-es="Sí">Yes</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="radio" id="employment-no" name="employment-primary" value="no" onchange="toggleEmploymentFields(this)">
                        <label for="employment-no" data-en="No" data-es="No">No</label>
                    </div>
                </div>

                <div id="employment-fields" class="conditional-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="employer" data-en="Employer *" data-es="Empleador *">Employer *</label>
                            <input type="text" id="employer" name="employer">
                        </div>
                        <div class="form-group">
                            <label for="job-title" data-en="Job Title *" data-es="Puesto de Trabajo *">Job Title *</label>
                            <input type="text" id="job-title" name="job-title">
                        </div>
                        <div class="form-group">
                            <label for="shift" data-en="Shift *" data-es="Turno *">Shift *</label>
                            <select id="shift" name="shift">
                                <option value="" data-en="Select shift" data-es="Seleccione turno">Select shift</option>
                                <option value="day" data-en="Day Shift" data-es="Turno Diurno">Day Shift</option>
                                <option value="evening" data-en="Evening Shift" data-es="Turno Vespertino">Evening Shift</option>
                                <option value="night" data-en="Night Shift" data-es="Turno Nocturno">Night Shift</option>
                                <option value="varied" data-en="Varied Shifts" data-es="Turnos Variados">Varied Shifts</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="income-type" data-en="Income Type *" data-es="Tipo de Ingreso *">Income Type *</label>
                            <select id="income-type" name="income-type" onchange="toggleIncomeFields(this)">
                                <option value="" data-en="Select type" data-es="Seleccione tipo">Select type</option>
                                <option value="hourly" data-en="Hourly Rate" data-es="Tarifa por Hora">Hourly Rate</option>
                                <option value="salary" data-en="Monthly Salary" data-es="Salario Mensual">Monthly Salary</option>
                            </select>
                        </div>
                        <div class="form-group" id="hourly-rate-field">
                            <label for="hourly-rate" data-en="Hourly Rate *" data-es="Tarifa por Hora *">Hourly Rate *</label>
                            <input type="number" id="hourly-rate" name="hourly-rate" step="0.01">
                        </div>
                        <div class="form-group" id="pay-frequency-field">
                            <label for="pay-frequency" data-en="Pay Frequency *" data-es="Frecuencia de Pago *">Pay Frequency *</label>
                            <select id="pay-frequency" name="pay-frequency">
                                <option value="" data-en="Select" data-es="Seleccionar">Select</option>
                                <option value="weekly" data-en="Weekly" data-es="Semanal">Weekly</option>
                                <option value="biweekly" data-en="Bi-Weekly" data-es="Quincenal">Bi-Weekly</option>
                                <option value="semimonthly" data-en="Semi-Monthly" data-es="Quincenal">Semi-Monthly</option>
                                <option value="monthly" data-en="Monthly" data-es="Mensual">Monthly</option>
                            </select>
                        </div>
                        <div class="form-group" id="monthly-salary-field">
                            <label for="monthly-salary" data-en="Monthly Salary *" data-es="Salario Mensual *">Monthly Salary *</label>
                            <input type="number" id="monthly-salary" name="monthly-salary" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="take-home-pay" data-en="Take Home Pay (after taxes) *" data-es="Salario Neto (después de impuestos) *">Take Home Pay (after taxes) *</label>
                            <input type="number" id="take-home-pay" name="take-home-pay" step="0.01">
                        </div>
                    </div>

                    <div class="form-group">
                        <label data-en="Is your employer able to be contacted? *" data-es="¿Se puede contactar a su empleador? *">Is your employer able to be contacted? *</label>
                        <div class="checkbox-group">
                            <input type="radio" id="contact-yes" name="employer-contact" value="yes" onchange="toggleContactWarning(this)">
                            <label for="contact-yes" data-en="Yes" data-es="Sí">Yes</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="radio" id="contact-no" name="employer-contact" value="no" onchange="toggleContactWarning(this)">
                            <label for="contact-no" data-en="No" data-es="No">No</label>
                        </div>
                    </div>

                    <div id="contact-warning" class="conditional-section">
                        <div class="upload-area">
                            <p><strong data-en="Note:" data-es="Nota:">Note:</strong> <span data-en="You must provide paystubs either in person or upload them here." data-es="Debe proporcionar comprobantes de pago en persona o subirlos aquí.">You must provide paystubs either in person or upload them here.</span></p>
                            <input type="file" id="paystub-upload" name="paystub-upload" accept=".jpg,.jpeg,.png,.pdf">
                            <label for="paystub-upload" class="btn btn-primary"><i class="fas fa-upload"></i> <span data-en="Upload Paystubs" data-es="Subir Comprobantes de Pago">Upload Paystubs</span></label>
                        </div>
                    </div>
                </div>

                <div id="other-income-fields" class="conditional-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="income-source" data-en="Income Source *" data-es="Fuente de Ingresos *">Income Source *</label>
                            <input type="text" id="income-source" name="income-source">
                        </div>
                        <div class="form-group">
                            <label for="other-take-home" data-en="Take Home Monthly Amount *" data-es="Cantidad Neta Mensual *">Take Home Monthly Amount *</label>
                            <input type="number" id="other-take-home" name="other-take-home" step="0.01">
                        </div>
                    </div>
                    
                    <div class="upload-area">
                        <p><strong data-en="Note:" data-es="Nota:">Note:</strong> <span data-en="You will be required to bring in official proof of income to the store or upload it here." data-es="Deberá traer prueba oficial de ingresos a la tienda o subirla aquí.">You will be required to bring in official proof of income to the store or upload it here.</span></p>
                        <input type="file" id="income-proof-upload" name="income-proof-upload" accept=".jpg,.jpeg,.png,.pdf">
                        <label for="income-proof-upload" class="btn btn-primary"><i class="fas fa-upload"></i> <span data-en="Upload Proof of Income" data-es="Subir Prueba de Ingresos">Upload Proof of Income</span></label>
                    </div>
                </div>

                <div class="fun-element">
                    <p data-en="We know talking about money isn't always fun, but it helps us help you find the perfect rental items!" data-es="¡Sabemos que hablar de dinero no siempre es divertido, pero nos ayuda a ayudarle a encontrar los artículos de alquiler perfectos!">We know talking about money isn't always fun, but it helps us help you find the perfect rental items! <i class="fas fa-piggy-bank"></i> <i class="fas fa-chart-line"></i></p>
                </div>
            </div>
        </div>

        <!-- Co-Renter Income Information Section (Initially Hidden) -->
        <div id="co-income-section" class="collapsible-menu" style="display: none;">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-money-bill-wave"></i> <span data-en="Co-Renter Income Information" data-es="Información de Ingresos del Co-Arrendatario">Co-Renter Income Information</span></h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-group">
                    <label data-en="Is employment your primary source of income? *" data-es="¿Es el empleo su principal fuente de ingresos? *">Is employment your primary source of income? *</label>
                    <div class="checkbox-group">
                        <input type="radio" id="co-employment-yes" name="co-employment-primary" value="yes" onchange="toggleCoEmploymentFields(this)">
                        <label for="co-employment-yes" data-en="Yes" data-es="Sí">Yes</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="radio" id="co-employment-no" name="co-employment-primary" value="no" onchange="toggleCoEmploymentFields(this)">
                        <label for="co-employment-no" data-en="No" data-es="No">No</label>
                    </div>
                </div>

                <div id="co-employment-fields" class="conditional-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="co-employer" data-en="Employer *" data-es="Empleador *">Employer *</label>
                            <input type="text" id="co-employer" name="co-employer">
                        </div>
                        <div class="form-group">
                            <label for="co-job-title" data-en="Job Title *" data-es="Puesto de Trabajo *">Job Title *</label>
                            <input type="text" id="co-job-title" name="co-job-title">
                        </div>
                        <div class="form-group">
                            <label for="co-shift" data-en="Shift *" data-es="Turno *">Shift *</label>
                            <select id="co-shift" name="co-shift">
                                <option value="" data-en="Select shift" data-es="Seleccione turno">Select shift</option>
                                <option value="day" data-en="Day Shift" data-es="Turno Diurno">Day Shift</option>
                                <option value="evening" data-en="Evening Shift" data-es="Turno Vespertino">Evening Shift</option>
                                <option value="night" data-en="Night Shift" data-es="Turno Nocturno">Night Shift</option>
                                <option value="varied" data-en="Varied Shifts" data-es="Turnos Variados">Varied Shifts</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="co-income-type" data-en="Income Type *" data-es="Tipo de Ingreso *">Income Type *</label>
                            <select id="co-income-type" name="co-income-type" onchange="toggleCoIncomeFields(this)">
                                <option value="" data-en="Select type" data-es="Seleccione tipo">Select type</option>
                                <option value="hourly" data-en="Hourly Rate" data-es="Tarifa por Hora">Hourly Rate</option>
                                <option value="salary" data-en="Monthly Salary" data-es="Salario Mensual">Monthly Salary</option>
                            </select>
                        </div>
                        <div class="form-group" id="co-hourly-rate-field">
                            <label for="co-hourly-rate" data-en="Hourly Rate *" data-es="Tarifa por Hora *">Hourly Rate *</label>
                            <input type="number" id="co-hourly-rate" name="co-hourly-rate" step="0.01">
                        </div>
                        <div class="form-group" id="co-pay-frequency-field">
                            <label for="co-pay-frequency" data-en="Pay Frequency *" data-es="Frecuencia de Pago *">Pay Frequency *</label>
                            <select id="co-pay-frequency" name="co-pay-frequency">
                                <option value="" data-en="Select" data-es="Seleccionar">Select</option>
                                <option value="weekly" data-en="Weekly" data-es="Semanal">Weekly</option>
                                <option value="biweekly" data-en="Bi-Weekly" data-es="Quincenal">Bi-Weekly</option>
                                <option value="semimonthly" data-en="Semi-Monthly" data-es="Quincenal">Semi-Monthly</option>
                                <option value="monthly" data-en="Monthly" data-es="Mensual">Monthly</option>
                            </select>
                        </div>
                        <div class="form-group" id="co-monthly-salary-field">
                            <label for="co-monthly-salary" data-en="Monthly Salary *" data-es="Salario Mensual *">Monthly Salary *</label>
                            <input type="number" id="co-monthly-salary" name="co-monthly-salary" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="co-take-home-pay" data-en="Take Home Pay (after taxes) *" data-es="Salario Neto (después de impuestos) *">Take Home Pay (after taxes) *</label>
                            <input type="number" id="co-take-home-pay" name="co-take-home-pay" step="0.01">
                        </div>
                    </div>

                    <div class="form-group">
                        <label data-en="Is your employer able to be contacted? *" data-es="¿Se puede contactar a su empleador? *">Is your employer able to be contacted? *</label>
                        <div class="checkbox-group">
                            <input type="radio" id="co-contact-yes" name="co-employer-contact" value="yes" onchange="toggleCoContactWarning(this)">
                            <label for="co-contact-yes" data-en="Yes" data-es="Sí">Yes</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="radio" id="co-contact-no" name="co-employer-contact" value="no" onchange="toggleCoContactWarning(this)">
                            <label for="co-contact-no" data-en="No" data-es="No">No</label>
                        </div>
                    </div>

                    <div id="co-contact-warning" class="conditional-section">
                        <div class="upload-area">
                            <p><strong data-en="Note:" data-es="Nota:">Note:</strong> <span data-en="You must provide paystubs either in person or upload them here." data-es="Debe proporcionar comprobantes de pago en persona o subirlos aquí.">You must provide paystubs either in person or upload them here.</span></p>
                            <input type="file" id="co-paystub-upload" name="co-paystub-upload" accept=".jpg,.jpeg,.png,.pdf">
                            <label for="co-paystub-upload" class="btn btn-primary"><i class="fas fa-upload"></i> <span data-en="Upload Paystubs" data-es="Subir Comprobantes de Pago">Upload Paystubs</span></label>
                        </div>
                    </div>
                </div>

                <div id="co-other-income-fields" class="conditional-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="co-income-source" data-en="Income Source *" data-es="Fuente de Ingresos *">Income Source *</label>
                            <input type="text" id="co-income-source" name="co-income-source">
                        </div>
                        <div class="form-group">
                            <label for="co-other-take-home" data-en="Take Home Monthly Amount *" data-es="Cantidad Neta Mensual *">Take Home Monthly Amount *</label>
                            <input type="number" id="co-other-take-home" name="co-other-take-home" step="0.01">
                        </div>
                    </div>
                    
                    <div class="upload-area">
                        <p><strong data-en="Note:" data-es="Nota:">Note:</strong> <span data-en="You will be required to bring in official proof of income to the store or upload it here." data-es="Deberá traer prueba oficial de ingresos a la tienda o subirla aquí.">You will be required to bring in official proof of income to the store or upload it here.</span></p>
                        <input type="file" id="co-income-proof-upload" name="co-income-proof-upload" accept=".jpg,.jpeg,.png,.pdf">
                        <label for="co-income-proof-upload" class="btn btn-primary"><i class="fas fa-upload"></i> <span data-en="Upload Proof of Income" data-es="Subir Prueba de Ingresos">Upload Proof of Income</span></label>
                    </div>
                </div>

                <div class="fun-element">
                    <p data-en="We know talking about money isn't always fun, but it helps us help you find the perfect rental items!" data-es="¡Sabemos que hablar de dinero no siempre es divertido, pero nos ayuda a ayudarle a encontrar los artículos de alquiler perfectos!">We know talking about money isn't always fun, but it helps us help you find the perfect rental items! <i class="fas fa-piggy-bank"></i> <i class="fas fa-chart-line"></i></p>
                </div>
            </div>
        </div>

        <!-- Residency Information Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-home"></i> <span data-en="Residency Information" data-es="Información de Residencia">Residency Information</span></h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <!-- Address Fields for All Users -->
                <h3 data-en="Address Information" data-es="Información de Dirección">Address Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="street-address" data-en="Street Address *" data-es="Dirección *">Street Address *</label>
                        <input type="text" id="street-address" name="street-address" required>
                    </div>
                    <div class="form-group">
                        <label for="apt-number" data-en="Apt/Unit Number" data-es="Número de Apartamento/Unidad">Apt/Unit Number</label>
                        <input type="text" id="apt-number" name="apt-number">
                    </div>
                    <div class="form-group">
                        <label for="city" data-en="City *" data-es="Ciudad *">City *</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    <div class="form-group">
                        <label for="state" data-en="State *" data-es="Estado *">State *</label>
                        <select id="state" name="state" required>
                            <option value="" data-en="Select State" data-es="Seleccionar Estado">Select State</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="zip-code" data-en="ZIP Code *" data-es="Código Postal *">ZIP Code *</label>
                        <input type="text" id="zip-code" name="zip-code" required pattern="[0-9]{5}(-[0-9]{4})?" title="Please enter a valid ZIP code">
                    </div>
                </div>

                <div class="form-group">
                    <label data-en="Do you rent, own, or live with owner? *" data-es="¿Alquila, es propietario o vive con el propietario? *">Do you rent, own, or live with owner? *</label>
                    <div class="checkbox-group">
                        <input type="radio" id="residency-rent" name="residency-type" value="rent" onchange="toggleResidencyFields(this)">
                        <label for="residency-rent" data-en="Rent" data-es="Alquilar">Rent</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="radio" id="residency-own" name="residency-type" value="own" onchange="toggleResidencyFields(this)">
                        <label for="residency-own" data-en="Own" data-es="Propio">Own</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="radio" id="residency-live-with" name="residency-type" value="live-with" onchange="toggleResidencyFields(this)">
                        <label for="residency-live-with" data-en="Live with Owner" data-es="Vivir con el Propietario">Live with Owner</label>
                    </div>
                </div>

                <div id="rent-fields" class="conditional-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="landlord-name" data-en="Landlord/Property Manager/Apartment Complex Name *" data-es="Nombre del Propietario/Administrador de Propiedades/Complejo de Apartamentos *">Landlord/Property Manager/Apartment Complex Name *</label>
                            <input type="text" id="landlord-name" name="landlord-name">
                        </div>
                        <div class="form-group">
                            <label for="landlord-phone" data-en="Contact Number *" data-es="Número de Contacto *">Contact Number *</label>
                            <input type="tel" id="landlord-phone" name="landlord-phone">
                        </div>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="no-contact-landlord" name="no-contact-landlord" onchange="toggleLandlordContactWarning(this)">
                        <label for="no-contact-landlord" data-en="Landlord cannot be contacted" data-es="No se puede contactar al propietario">Landlord cannot be contacted</label>
                    </div>

                    <div id="landlord-contact-warning" class="conditional-section">
                        <div class="upload-area">
                            <p><strong data-en="Note:" data-es="Nota:">Note:</strong> <span data-en="You will need to bring in a lease or utility bill with your legal name on the document or upload it here." data-es="Necesitará traer un contrato de arrendamiento o factura de servicio público con su nombre legal en el documento o subirlo aquí.">You will need to bring in a lease or utility bill with your legal name on the document or upload it here.</span></p>
                            <input type="file" id="lease-upload" name="lease-upload" accept=".jpg,.jpeg,.png,.pdf">
                            <label for="lease-upload" class="btn btn-primary"><i class="fas fa-upload"></i> <span data-en="Upload Lease or Utility Bill" data-es="Subir Contrato o Factura de Servicio">Upload Lease or Utility Bill</span></label>
                        </div>
                    </div>
                </div>

                <div id="own-fields" class="conditional-section">
                    <div class="upload-area">
                        <p data-en="Please upload proof of ownership." data-es="Por favor, suba prueba de propiedad.">Please upload proof of ownership.</p>
                        <input type="file" id="ownership-upload" name="ownership-upload" accept=".jpg,.jpeg,.png,.pdf">
                        <label for="ownership-upload" class="btn btn-primary"><i class="fas fa-upload"></i> <span data-en="Upload Proof of Ownership" data-es="Subir Prueba de Propiedad">Upload Proof of Ownership</span></label>
                    </div>
                </div>

                <div class="fun-element">
                    <p data-en="Almost done! Just a few more sections to go before you can enjoy your new rental items!" data-es="¡Casi terminado! Solo faltan algunas secciones más para que pueda disfrutar de sus nuevos artículos de alquiler.">Almost done! Just a few more sections to go before you can enjoy your new rental items! <i class="fas fa-home"></i> <i class="fas fa-thumbs-up"></i></p>
                </div>
            </div>
        </div>

        <!-- References Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-users"></i> <span data-en="References" data-es="Referencias">References</span></h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-group">
                    <p><strong data-en="Reference Note:" data-es="Nota de Referencias:">Reference Note:</strong> <span data-en="We strongly prefer parental/familial references such as parents or grandparents, then close family, then friends or coworkers. Two references must be provided, but five is highly preferred." data-es="Preferimos referencias parentales/familiares como padres o abuelos, luego familiares cercanos, luego amigos o compañeros de trabajo. Se deben proporcionar dos referencias, pero se prefieren cinco.">We strongly prefer parental/familial references such as parents or grandparents, then close family, then friends or coworkers. Two references must be provided, but five is highly preferred.</span></p>
                </div>

                <div class="references-container">
                    <table class="references-table">
                        <thead>
                            <tr>
                                <th data-en="Type" data-es="Tipo">Type</th>
                                <th data-en="First Name *" data-es="Nombre *">First Name *</th>
                                <th data-en="Last Name *" data-es="Apellido *">Last Name *</th>
                                <th data-en="Relationship *" data-es="Relación *">Relationship *</th>
                                <th data-en="Phone Number *" data-es="Número de Teléfono *">Phone Number *</th>
                                <th data-en="State *" data-es="Estado *">State *</th>
                                <th data-en="Job/Occupation" data-es="Trabajo/Ocupación">Job/Occupation</th>
                                <th data-en="What should we know before contacting?" data-es="¿Qué debemos saber antes de contactar?">What should we know before contacting?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-en="Reference 1 (Required)" data-es="Referencia 1 (Requerida)">Reference 1 (Required)</td>
                                <td><input type="text" name="ref1-first" required></td>
                                <td><input type="text" name="ref1-last" required></td>
                                <td><input type="text" name="ref1-relationship" required></td>
                                <td><input type="tel" name="ref1-phone" required></td>
                                <td><input type="text" name="ref1-state" required></td>
                                <td><input type="text" name="ref1-job"></td>
                                <td><textarea name="ref1-notes" rows="2"></textarea></td>
                            </tr>
                            <tr>
                                <td data-en="Reference 2 (Required)" data-es="Referencia 2 (Requerida)">Reference 2 (Required)</td>
                                <td><input type="text" name="ref2-first" required></td>
                                <td><input type="text" name="ref2-last" required></td>
                                <td><input type="text" name="ref2-relationship" required></td>
                                <td><input type="tel" name="ref2-phone" required></td>
                                <td><input type="text" name="ref2-state" required></td>
                                <td><input type="text" name="ref2-job"></td>
                                <td><textarea name="ref2-notes" rows="2"></textarea></td>
                            </tr>
                            <tr>
                                <td data-en="Reference 3 (Optional)" data-es="Referencia 3 (Opcional)">Reference 3 (Optional)</td>
                                <td><input type="text" name="ref3-first"></td>
                                <td><input type="text" name="ref3-last"></td>
                                <td><input type="text" name="ref3-relationship"></td>
                                <td><input type="tel" name="ref3-phone"></td>
                                <td><input type="text" name="ref3-state"></td>
                                <td><input type="text" name="ref3-job"></td>
                                <td><textarea name="ref3-notes" rows="2"></textarea></td>
                            </tr>
                            <tr>
                                <td data-en="Reference 4 (Optional)" data-es="Referencia 4 (Opcional)">Reference 4 (Optional)</td>
                                <td><input type="text" name="ref4-first"></td>
                                <td><input type="text" name="ref4-last"></td>
                                <td><input type="text" name="ref4-relationship"></td>
                                <td><input type="tel" name="ref4-phone"></td>
                                <td><input type="text" name="ref4-state"></td>
                                <td><input type="text" name="ref4-job"></td>
                                <td><textarea name="ref4-notes" rows="2"></textarea></td>
                            </tr>
                            <tr>
                                <td data-en="Reference 5 (Optional)" data-es="Referencia 5 (Opcional)">Reference 5 (Optional)</td>
                                <td><input type="text" name="ref5-first"></td>
                                <td><input type="text" name="ref5-last"></td>
                                <td><input type="text" name="ref5-relationship"></td>
                                <td><input type="tel" name="ref5-phone"></td>
                                <td><input type="text" name="ref5-state"></td>
                                <td><input type="text" name="ref5-job"></td>
                                <td><textarea name="ref5-notes" rows="2"></textarea></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="fun-element">
                    <p data-en="References help us get to know you better!" data-es="¡Las referencias nos ayudan a conocerte mejor!">References help us get to know you better! <i class="fas fa-handshake"></i> <i class="fas fa-user-friends"></i></p>
                </div>
            </div>
        </div>

        <!-- Privacy and Disclosures Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-shield-alt"></i> <span data-en="Privacy and Disclosures" data-es="Privacidad y Divulgaciones">Privacy and Disclosures</span></h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="disclosure-box">
                    <p data-en="The information collected in this form is solely used by National TV to process rental applications. All contacts may be contacted for the sole purpose of processing this application. All information will be securely discarded in the event that rental application is denied or a proper consumer/business relationship is not established." data-es="La información recopilada en este formulario es utilizada únicamente por National TV para procesar solicitudes de alquiler. Se puede contactar a todos los contactos con el único propósito de procesar esta solicitud. Toda la información se descartará de forma segura en caso de que la solicitud de alquiler sea denegada o no se establezca una relación adecuada entre consumidor y empresa.">The information collected in this form is solely used by National TV to process rental applications. All contacts may be contacted for the sole purpose of processing this application. All information will be securely discarded in the event that rental application is denied or a proper consumer/business relationship is not established.</p>
                    <p data-en="By submitting this form to National TV I certify that all information provided is accurate to the best of my knowledge and that I consent for National TV, or its delegates, at their sole discretion to use this information for the purpose of processing my application. I understand that by submitting this form that National TV reserves its right to approve or deny this application at its discretion." data-es="Al enviar este formulario a National TV, certifico que toda la información proporcionada es precisa según mi leal saber y entender, y que doy mi consentimiento para que National TV, o sus delegados, a su sola discreción, utilicen esta información con el propósito de procesar mi solicitud. Entiendo que al enviar este formulario, National TV se reserva el derecho de aprobar o denegar esta solicitud a su discreción.">By submitting this form to National TV I certify that all information provided is accurate to the best of my knowledge and that I consent for National TV, or its delegates, at their sole discretion to use this information for the purpose of processing my application. I understand that by submitting this form that National TV reserves its right to approve or deny this application at its discretion.</p>
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="agree-disclosure" name="agree-disclosure" required>
                        <label for="agree-disclosure" data-en="I have read and agree to the above disclosures *" data-es="He leído y estoy de acuerdo con las divulgaciones anteriores *">I have read and agree to the above disclosures *</label>
                    </div>
                </div>

                <!-- Primary Signature Section -->
                <div id="primary-signature-container">
                    <div class="signature-pad-container" id="primary-signature-pad-container">
                        <p><strong data-en="Primary Renter Signature:" data-es="Firma del Arrendatario Principal:">Primary Renter Signature:</strong></p>
                        <canvas id="signature-pad" width="600" height="200" class="signature-pad"></canvas>
                        <div class="signature-actions">
                            <button type="button" class="btn btn-danger" onclick="clearSignature()"><i class="fas fa-trash"></i> <span data-en="Clear Signature" data-es="Borrar Firma">Clear Signature</span></button>
                            <button type="button" class="btn btn-primary" onclick="saveSignature()"><i class="fas fa-save"></i> <span data-en="Save Signature" data-es="Guardar Firma">Save Signature</span></button>
                        </div>
                    </div>
                    <div class="signature-saved" id="primary-signature-saved">
                        <p data-en="Signature saved successfully!" data-es="¡Firma guardada con éxito!">Signature saved successfully!</p>
                        <button type="button" class="signature-edit-btn" onclick="editSignature('primary')"><i class="fas fa-edit"></i> <span data-en="Edit Signature" data-es="Editar Firma">Edit Signature</span></button>
                    </div>
                </div>

                <!-- Co-Renter Signature Section (Initially Hidden) -->
                <div id="co-signature-section" style="display: none;">
                    <div id="co-signature-container">
                        <div class="signature-pad-container" id="co-signature-pad-container">
                            <p><strong data-en="Co-Renter Signature:" data-es="Firma del Co-Arrendatario:">Co-Renter Signature:</strong></p>
                            <canvas id="co-signature-pad" width="600" height="200" class="signature-pad"></canvas>
                            <div class="signature-actions">
                                <button type="button" class="btn btn-danger" onclick="clearCoSignature()"><i class="fas fa-trash"></i> <span data-en="Clear Signature" data-es="Borrar Firma">Clear Signature</span></button>
                                <button type="button" class="btn btn-primary" onclick="saveCoSignature()"><i class="fas fa-save"></i> <span data-en="Save Signature" data-es="Guardar Firma">Save Signature</span></button>
                            </div>
                        </div>
                        <div class="signature-saved" id="co-signature-saved">
                            <p data-en="Signature saved successfully!" data-es="¡Firma guardada con éxito!">Signature saved successfully!</p>
                            <button type="button" class="signature-edit-btn" onclick="editSignature('co')"><i class="fas fa-edit"></i> <span data-en="Edit Signature" data-es="Editar Firma">Edit Signature</span></button>
                        </div>
                    </div>
                </div>

                <div class="fun-element">
                    <p data-en="Thank you for completing our application! We look forward to helping you find the perfect appliances, furniture, and electronics!" data-es="¡Gracias por completar nuestra solicitud! Esperamos ayudarle a encontrar los electrodomésticos, muebles y electrónicos perfectos.">Thank you for completing our application! We look forward to helping you find the perfect appliances, furniture, and electronics! <i class="fas fa-tv"></i> <i class="fas fa-couch"></i> <i class="fas fa-blender"></i> <i class="fas fa-laptop"></i></p>
                </div>
            </div>
        </div>

        <!-- Additional Documents Section -->
        <div class="collapsible-menu">
            <div class="menu-header" onclick="toggleMenu(this)">
                <h2><i class="fas fa-file-upload"></i> <span data-en="Additional Documents" data-es="Documentos Adicionales">Additional Documents</span></h2>
                <span class="menu-icon"><i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="menu-content">
                <div class="form-group">
                    <label for="additional-docs" data-en="Upload any additional supporting documents" data-es="Suba cualquier documento de apoyo adicional">Upload any additional supporting documents</label>
                    <input type="file" id="additional-docs" name="additional-docs" multiple accept=".jpg,.jpeg,.png,.pdf">
                </div>
            </div>
        </div>

        <!-- Action buttons -->
        <div class="form-group" style="padding: 20px; text-align: center;">
            <button type="button" onclick="generatePrintable()" class="btn btn-primary"><i class="fas fa-print"></i> <span data-en="Generate Printable Application" data-es="Generar Solicitud Imprimible">Generate Printable Application</span></button>
            <button type="button" onclick="submitToGoogle()" class="btn btn-success"><i class="fas fa-cloud-upload-alt"></i> <span data-en="Submit to Google Drive" data-es="Enviar a Google Drive">Submit to Google Drive</span></button>
        </div>
    </form>

    <!-- Hidden printable version -->
    <div id="printable-application" style="display: none;">
        <h2 style="text-align: center; color: #0066cc;" data-en="National TV Rental Application" data-es="Solicitud de Alquiler de National TV">National TV Rental Application</h2>
        <div id="print-content"></div>
    </div>

    <div class="footer">
        <p>&copy; 2025 National TV Rental. <span data-en="All rights reserved." data-es="Todos los derechos reservados.">All rights reserved.</span></p>
    </div>

    <script>
        // Initialize signature pads
        const canvas = document.getElementById('signature-pad');
        const signaturePad = new SignaturePad(canvas, {
            backgroundColor: 'rgb(255, 255, 255)'
        });

        const coCanvas = document.getElementById('co-signature-pad');
        const coSignaturePad = new SignaturePad(coCanvas, {
            backgroundColor: 'rgb(255, 255, 255)'
        });

        // Apps Script Web App URL - Replace with your actual URL
        const SCRIPT_URL = "https://docs.google.com/spreadsheets/d/1Lj5EkdVagM51OykHnmmYnmi7h5yKdWBuvq_9XH60Vm0/edit?usp=drivesdk";

        // Language state
        let isSpanish = false;

        // Adjust canvas for high DPI displays
        function resizeCanvas() {
            const ratio = Math.max(window.devicePixelRatio || 1, 1);
            
            canvas.width = canvas.offsetWidth * ratio;
            canvas.height = canvas.offsetHeight * ratio;
            canvas.getContext('2d').scale(ratio, ratio);
            
            coCanvas.width = coCanvas.offsetWidth * ratio;
            coCanvas.height = coCanvas.offsetHeight * ratio;
            coCanvas.getContext('2d').scale(ratio, ratio);
            
            signaturePad.clear();
            coSignaturePad.clear();
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // Toggle language function
        function toggleLanguage() {
            const toggle = document.getElementById('language-toggle');
            isSpanish = toggle.checked;
            
            // Update all elements with data attributes
            document.querySelectorAll('[data-en], [data-es]').forEach(element => {
                if (isSpanish) {
                    if (element.hasAttribute('data-es')) {
                        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                            element.placeholder = element.getAttribute('data-es');
                        } else if (element.tagName === 'OPTION') {
                            element.textContent = element.getAttribute('data-es');
                        } else {
                            element.textContent = element.getAttribute('data-es');
                        }
                    }
                } else {
                    if (element.hasAttribute('data-en')) {
                        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                            element.placeholder = element.getAttribute('data-en');
                        } else if (element.tagName === 'OPTION') {
                            element.textContent = element.getAttribute('data-en');
                        } else {
                            element.textContent = element.getAttribute('data-en');
                        }
                    }
                }
            });
        }

        // Toggle collapsible menus
        function toggleMenu(menuHeader) {
            const menuContent = menuHeader.nextElementSibling;
            const icon = menuHeader.querySelector('.menu-icon i');
            
            menuContent.classList.toggle('active');
            
            if (menuContent.classList.contains('active')) {
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            } else {
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            }
        }

        // Toggle co-renter section
        function toggleCoRenterSection(checkbox) {
            const coRenterSection = document.getElementById('corener-section');
            const coIncomeSection = document.getElementById('co-income-section');
            const coSignatureSection = document.getElementById('co-signature-section');
            const coRenterInputs = coRenterSection.querySelectorAll('input, select');
            
            if (checkbox.checked) {
                coRenterSection.style.display = 'block';
                coIncomeSection.style.display = 'block';
                coSignatureSection.style.display = 'block';
                coRenterInputs.forEach(input => input.setAttribute('required', 'true'));
            } else {
                coRenterSection.style.display = 'none';
                coIncomeSection.style.display = 'none';
                coSignatureSection.style.display = 'none';
                coRenterInputs.forEach(input => input.removeAttribute('required'));
            }
        }

        // Toggle employment fields for primary renter
        function toggleEmploymentFields(radio) {
            const employmentFields = document.getElementById('employment-fields');
            const otherIncomeFields = document.getElementById('other-income-fields');
            
            if (radio.value === 'yes') {
                employmentFields.style.display = 'block';
                otherIncomeFields.style.display = 'none';
                
                // Set required attributes for employment fields
                const employmentInputs = employmentFields.querySelectorAll('input, select');
                employmentInputs.forEach(input => {
                    if (input.name !== 'employer-contact') {
                        input.setAttribute('required', 'true');
                    }
                });
                
                // Remove required attributes from other income fields
                const otherIncomeInputs = otherIncomeFields.querySelectorAll('input');
                otherIncomeInputs.forEach(input => input.removeAttribute('required'));
            } else {
                employmentFields.style.display = 'none';
                otherIncomeFields.style.display = 'block';
                
                // Remove required attributes from employment fields
                const employmentInputs = employmentFields.querySelectorAll('input, select');
                employmentInputs.forEach(input => input.removeAttribute('required'));
                
                // Set required attributes for other income fields
                const otherIncomeInputs = otherIncomeFields.querySelectorAll('input');
                otherIncomeInputs.forEach(input => input.setAttribute('required', 'true'));
            }
        }

        // Toggle employment fields for co-renter
        function toggleCoEmploymentFields(radio) {
            const employmentFields = document.getElementById('co-employment-fields');
            const otherIncomeFields = document.getElementById('co-other-income-fields');
            
            if (radio.value === 'yes') {
                employmentFields.style.display = 'block';
                otherIncomeFields.style.display = 'none';
                
                // Set required attributes for employment fields
                const employmentInputs = employmentFields.querySelectorAll('input, select');
                employmentInputs.forEach(input => {
                    if (input.name !== 'co-employer-contact') {
                        input.setAttribute('required', 'true');
                    }
                });
                
                // Remove required attributes from other income fields
                const otherIncomeInputs = otherIncomeFields.querySelectorAll('input');
                otherIncomeInputs.forEach(input => input.removeAttribute('required'));
            } else {
                employmentFields.style.display = 'none';
                otherIncomeFields.style.display = 'block';
                
                // Remove required attributes from employment fields
                const employmentInputs = employmentFields.querySelectorAll('input, select');
                employmentInputs.forEach(input => input.removeAttribute('required'));
                
                // Set required attributes for other income fields
                const otherIncomeInputs = otherIncomeFields.querySelectorAll('input');
                otherIncomeInputs.forEach(input => input.setAttribute('required', 'true'));
            }
        }

        // Toggle income type fields for primary renter
        function toggleIncomeFields(select) {
            const hourlyRateField = document.getElementById('hourly-rate-field');
            const monthlySalaryField = document.getElementById('monthly-salary-field');
            const payFrequencyField = document.getElementById('pay-frequency-field');
            
            if (select.value === 'hourly') {
                hourlyRateField.style.display = 'block';
                monthlySalaryField.style.display = 'none';
                payFrequencyField.style.display = 'block';
                document.getElementById('hourly-rate').setAttribute('required', 'true');
                document.getElementById('monthly-salary').removeAttribute('required');
                document.getElementById('pay-frequency').setAttribute('required', 'true');
            } else if (select.value === 'salary') {
                hourlyRateField.style.display = 'none';
                monthlySalaryField.style.display = 'block';
                payFrequencyField.style.display = 'block';
                document.getElementById('hourly-rate').removeAttribute('required');
                document.getElementById('monthly-salary').setAttribute('required', 'true');
                document.getElementById('pay-frequency').setAttribute('required', 'true');
            } else {
                hourlyRateField.style.display = 'none';
                monthlySalaryField.style.display = 'none';
                payFrequencyField.style.display = 'none';
                document.getElementById('hourly-rate').removeAttribute('required');
                document.getElementById('monthly-salary').removeAttribute('required');
                document.getElementById('pay-frequency').removeAttribute('required');
            }
        }

        // Toggle income type fields for co-renter
        function toggleCoIncomeFields(select) {
            const hourlyRateField = document.getElementById('co-hourly-rate-field');
            const monthlySalaryField = document.getElementById('co-monthly-salary-field');
            const payFrequencyField = document.getElementById('co-pay-frequency-field');
            
            if (select.value === 'hourly') {
                hourlyRateField.style.display = 'block';
                monthlySalaryField.style.display = 'none';
                payFrequencyField.style.display = 'block';
                document.getElementById('co-hourly-rate').setAttribute('required', 'true');
                document.getElementById('co-monthly-salary').removeAttribute('required');
                document.getElementById('co-pay-frequency').setAttribute('required', 'true');
            } else if (select.value === 'salary') {
                hourlyRateField.style.display = 'none';
                monthlySalaryField.style.display = 'block';
                payFrequencyField.style.display = 'block';
                document.getElementById('co-hourly-rate').removeAttribute('required');
                document.getElementById('co-monthly-salary').setAttribute('required', 'true');
                document.getElementById('co-pay-frequency').setAttribute('required', 'true');
            } else {
                hourlyRateField.style.display = 'none';
                monthlySalaryField.style.display = 'none';
                payFrequencyField.style.display = 'none';
                document.getElementById('co-hourly-rate').removeAttribute('required');
                document.getElementById('co-monthly-salary').removeAttribute('required');
                document.getElementById('co-pay-frequency').removeAttribute('required');
            }
        }

        // Toggle employer contact warning for primary renter
        function toggleContactWarning(radio) {
            const contactWarning = document.getElementById('contact-warning');
            
            if (radio.value === 'no') {
                contactWarning.style.display = 'block';
            } else {
                contactWarning.style.display = 'none';
            }
        }

        // Toggle employer contact warning for co-renter
        function toggleCoContactWarning(radio) {
            const contactWarning = document.getElementById('co-contact-warning');
            
            if (radio.value === 'no') {
                contactWarning.style.display = 'block';
            } else {
                contactWarning.style.display = 'none';
            }
        }

        // Toggle residency fields
        function toggleResidencyFields(radio) {
            const rentFields = document.getElementById('rent-fields');
            const ownFields = document.getElementById('own-fields');
            
            if (radio.value === 'rent') {
                rentFields.style.display = 'block';
                ownFields.style.display = 'none';
                
                // Set required attributes for rent fields
                const rentInputs = rentFields.querySelectorAll('input');
                rentInputs.forEach(input => input.setAttribute('required', 'true'));
                
                // Remove required attributes from own fields
                const ownInputs = ownFields.querySelectorAll('input');
                ownInputs.forEach(input => input.removeAttribute('required'));
            } else if (radio.value === 'own') {
                rentFields.style.display = 'none';
                ownFields.style.display = 'block';
                
                // Remove required attributes from rent fields
                const rentInputs = rentFields.querySelectorAll('input');
                rentInputs.forEach(input => input.removeAttribute('required'));
                
                // Set required attributes for own fields
                const ownInputs = ownFields.querySelectorAll('input');
                ownInputs.forEach(input => input.setAttribute('required', 'true'));
            } else {
                rentFields.style.display = 'none';
                ownFields.style.display = 'none';
                
                // Remove required attributes from all fields
                const rentInputs = rentFields.querySelectorAll('input');
                rentInputs.forEach(input => input.removeAttribute('required'));
                
                const ownInputs = ownFields.querySelectorAll('input');
                ownInputs.forEach(input => input.removeAttribute('required'));
            }
        }

        // Toggle landlord contact warning
        function toggleLandlordContactWarning(checkbox) {
            const landlordContactWarning = document.getElementById('landlord-contact-warning');
            
            if (checkbox.checked) {
                landlordContactWarning.style.display = 'block';
            } else {
                landlordContactWarning.style.display = 'none';
            }
        }

        // Clear signature pad for primary renter
        function clearSignature() {
            signaturePad.clear();
        }

        // Clear signature pad for co-renter
        function clearCoSignature() {
            coSignaturePad.clear();
        }

        // Save signature for primary renter
        function saveSignature() {
            if (signaturePad.isEmpty()) {
                alert(isSpanish ? "Por favor, proporcione una firma primero." : "Please provide a signature first.");
            } else {
                document.getElementById('primary-signature-pad-container').style.display = 'none';
                document.getElementById('primary-signature-saved').style.display = 'block';
            }
        }

        // Save signature for co-renter
        function saveCoSignature() {
            if (coSignaturePad.isEmpty()) {
                alert(isSpanish ? "Por favor, proporcione una firma primero." : "Please provide a signature first.");
            } else {
                document.getElementById('co-signature-pad-container').style.display = 'none';
                document.getElementById('co-signature-saved').style.display = 'block';
            }
        }

        // Edit signature
        function editSignature(type) {
            if (type === 'primary') {
                document.getElementById('primary-signature-pad-container').style.display = 'block';
                document.getElementById('primary-signature-saved').style.display = 'none';
            } else if (type === 'co') {
                document.getElementById('co-signature-pad-container').style.display = 'block';
                document.getElementById('co-signature-saved').style.display = 'none';
            }
        }

        // Collect all form fields
        function collectFields() {
            const form = document.getElementById('rental-application');
            const map = new Map();
            form.querySelectorAll('input,select,textarea').forEach(el => {
                if (el.type !== 'file' && el.name) map.set(el.name, el.value);
            });
            return map;
        }

        // Convert data URL to Blob
        function dataURLToBlob(dataURL) {
            const parts = dataURL.split(',');
            const byteString = atob(parts[1]);
            const mimeString = parts[0].split(':')[1].split(';')[0];
            const ab = new ArrayBuffer(byteString.length);
            const ia = new Uint8Array(ab);
            for (let i = 0; i < byteString.length; i++) ia[i] = byteString.charCodeAt(i);
            return new Blob([ab], { type: mimeString });
        }

        // Build PDF summary
        function buildPdfSummary() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({ unit:'pt', format:'letter' });
            let y = 40;
            doc.setFontSize(16); 
            doc.text(isSpanish ? 'Solicitud de Alquiler de National TV' : 'National TV Rental Application', 40, y); 
            y+=30;
            doc.setFontSize(11);
            
            collectFields().forEach((v,k)=>{ 
                doc.text(`${k}: ${v}`, 40, y); 
                y+=15; 
            });
            
            if (!signaturePad.isEmpty()) {
                const sigDataUrl = signaturePad.toDataURL('image/png');
                doc.text(isSpanish ? 'Firma del Arrendatario Principal:' : 'Primary Renter Signature:', 40, y); 
                y+=20;
                doc.addImage(sigDataUrl, 'PNG', 40, y, 300, 80);
                y+=90;
            }
            
            if (document.getElementById('has-corener').checked && !coSignaturePad.isEmpty()) {
                const coSigDataUrl = coSignaturePad.toDataURL('image/png');
                doc.text(isSpanish ? 'Firma del Co-Arrendatario:' : 'Co-Renter Signature:', 40, y); 
                y+=20;
                doc.addImage(coSigDataUrl, 'PNG', 40, y, 300, 80);
                y+=90;
            }
            
            return Promise.resolve(doc.output('blob'));
        }

        // Submit to Google Drive
        async function submitToGoogle() {
            // Validate form first
            const form = document.getElementById('rental-application');
            if (!form.checkValidity()) {
                alert(isSpanish ? "Por favor, complete todos los campos obligatorios antes de enviar." : "Please fill out all required fields before submitting.");
                form.reportValidity();
                return;
            }
            
            // Validate signature
            if (signaturePad.isEmpty()) {
                alert(isSpanish ? "Por favor, proporcione una firma antes de enviar." : "Please provide a signature before submitting.");
                return;
            }
            
            // Validate co-signature if co-renter exists
            if (document.getElementById('has-corener').checked && coSignaturePad.isEmpty()) {
                alert(isSpanish ? "Por favor, proporcione una firma de co-arrendatario antes de enviar." : "Please provide a co-renter signature before submitting.");
                return;
            }
            
            const fd = new FormData();
            collectFields().forEach((v,k)=> fd.append(k,v));
            
            if (!signaturePad.isEmpty()) {
                fd.append('signature_png', dataURLToBlob(signaturePad.toDataURL('image/png')), 'signature.png');
            }
            
            if (document.getElementById('has-corener').checked && !coSignaturePad.isEmpty()) {
                fd.append('co_signature_png', dataURLToBlob(coSignaturePad.toDataURL('image/png')), 'co_signature.png');
            }
            
            const idFile = document.getElementById('id-upload').files[0];
            const paystubFile = document.getElementById('paystub-upload').files[0];
            const incomeProofFile = document.getElementById('income-proof-upload').files[0];
            const leaseFile = document.getElementById('lease-upload').files[0];
            const ownershipFile = document.getElementById('ownership-upload').files[0];
            const coPaystubFile = document.getElementById('co-paystub-upload').files[0];
            const coIncomeProofFile = document.getElementById('co-income-proof-upload').files[0];
            const additionalDocs = document.getElementById('additional-docs').files;
            
            if (idFile) fd.append('file_id', idFile, idFile.name);
            if (paystubFile) fd.append('file_paystub', paystubFile, paystubFile.name);
            if (incomeProofFile) fd.append('file_income_proof', incomeProofFile, incomeProofFile.name);
            if (leaseFile) fd.append('file_lease', leaseFile, leaseFile.name);
            if (ownershipFile) fd.append('file_ownership', ownershipFile, ownershipFile.name);
            if (coPaystubFile) fd.append('file_co_paystub', coPaystubFile, coPaystubFile.name);
            if (coIncomeProofFile) fd.append('file_co_income_proof', coIncomeProofFile, coIncomeProofFile.name);
            
            for (let i=0;i<additionalDocs.length;i++){ 
                fd.append('file_additional_'+i, additionalDocs[i], additionalDocs[i].name); 
            }
            
            const pdfBlob = await buildPdfSummary();
            fd.append('application_pdf', pdfBlob, 'Application_Summary.pdf');
            
            try {
                const res = await fetch(SCRIPT_URL, { method:'POST', body:fd });
                const text = await res.text();
                alert(isSpanish ? '¡Enviado! El servidor respondió: ' + text : 'Submitted! Server said: '+text);
            } catch(err) { 
                alert(isSpanish ? 'Error en el envío: ' + err : 'Submission failed: '+err); 
            }
        }

        // Generate printable version
        function generatePrintable() {
            // Validate form first
            const form = document.getElementById('rental-application');
            if (!form.checkValidity()) {
                alert(isSpanish ? "Por favor, complete todos los campos obligatorios antes de generar la versión imprimible." : "Please fill out all required fields before generating the printable version.");
                form.reportValidity();
                return;
            }
            
            // Validate signature
            if (signaturePad.isEmpty()) {
                alert(isSpanish ? "Por favor, proporcione una firma antes de generar la versión imprimible." : "Please provide a signature before generating the printable version.");
                return;
            }
            
            // Validate co-signature if co-renter exists
            if (document.getElementById('has-corener').checked && coSignaturePad.isEmpty()) {
                alert(isSpanish ? "Por favor, proporcione una firma de co-arrendatario antes de generar la versión imprimible." : "Please provide a co-renter signature before generating the printable version.");
                return;
            }
            
            // Create printable content
            const printContent = document.getElementById('print-content');
            printContent.innerHTML = '';
            
            // Add application date
            const now = new Date();
            const dateString = now.toLocaleDateString();
            const dateDiv = document.createElement('div');
            dateDiv.className = 'print-section';
            dateDiv.innerHTML = `<div class="print-field"><span class="print-label">${isSpanish ? 'Fecha de Solicitud:' : 'Application Date:'}</span> ${dateString}</div>`;
            printContent.appendChild(dateDiv);
            
            // Primary Renter Information
            const primarySection = document.createElement('div');
            primarySection.className = 'print-section';
            primarySection.innerHTML = `
                <h3>${isSpanish ? 'Información del Arrendatario Principal' : 'Primary Renter Information'}</h3>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Nombre:' : 'Name:'}</span> ${document.getElementById('first-name').value} ${document.getElementById('last-name').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Apellido de Soltera:' : 'Maiden Name:'}</span> ${document.getElementById('maiden-name').value || 'N/A'}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Fecha de Nacimiento:' : 'Birthdate:'}</span> ${document.getElementById('birthdate').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Número de Seguro Social:' : 'SSN:'}</span> ${document.getElementById('ssn').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Correo Electrónico:' : 'Email:'}</span> ${document.getElementById('email').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Teléfono:' : 'Phone:'}</span> ${document.getElementById('phone').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Mejor Horario para Contactar:' : 'Best Time to Contact:'}</span> ${document.getElementById('contact-time').value}</div>
            `;
            printContent.appendChild(primarySection);
            
            // Co-Renter Information if exists
            if (document.getElementById('has-corener').checked) {
                const coSection = document.createElement('div');
                coSection.className = 'print-section';
                coSection.innerHTML = `
                    <h3>${isSpanish ? 'Información del Co-Arrendatario' : 'Co-Renter Information'}</h3>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Nombre:' : 'Name:'}</span> ${document.getElementById('co-first-name').value} ${document.getElementById('co-last-name').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Apellido de Soltera:' : 'Maiden Name:'}</span> ${document.getElementById('co-maiden-name').value || 'N/A'}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Fecha de Nacimiento:' : 'Birthdate:'}</span> ${document.getElementById('co-birthdate').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Número de Seguro Social:' : 'SSN:'}</span> ${document.getElementById('co-ssn').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Correo Electrónico:' : 'Email:'}</span> ${document.getElementById('co-email').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Teléfono:' : 'Phone:'}</span> ${document.getElementById('co-phone').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Mejor Horario para Contactar:' : 'Best Time to Contact:'}</span> ${document.getElementById('co-contact-time').value}</div>
                `;
                printContent.appendChild(coSection);
            }
            
            // Address Information
            const addressSection = document.createElement('div');
            addressSection.className = 'print-section';
            addressSection.innerHTML = `
                <h3>${isSpanish ? 'Información de Dirección' : 'Address Information'}</h3>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Dirección:' : 'Street Address:'}</span> ${document.getElementById('street-address').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Apartamento/Unidad:' : 'Apt/Unit Number:'}</span> ${document.getElementById('apt-number').value || 'N/A'}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Ciudad:' : 'City:'}</span> ${document.getElementById('city').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Estado:' : 'State:'}</span> ${document.getElementById('state').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Código Postal:' : 'ZIP Code:'}</span> ${document.getElementById('zip-code').value}</div>
            `;
            printContent.appendChild(addressSection);
            
            // Vehicle Information
            const vehicleSection = document.createElement('div');
            vehicleSection.className = 'print-section';
            vehicleSection.innerHTML = `
                <h3>${isSpanish ? 'Información del Vehículo' : 'Vehicle Information'}</h3>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Marca:' : 'Make:'}</span> ${document.getElementById('vehicle-make').value || 'N/A'}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Modelo:' : 'Model:'}</span> ${document.getElementById('vehicle-model').value || 'N/A'}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Placa:' : 'License Plate:'}</span> ${document.getElementById('license-plate').value || 'N/A'}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Color:' : 'Color:'}</span> ${document.getElementById('vehicle-color').value || 'N/A'}</div>
            `;
            printContent.appendChild(vehicleSection);
            
            // Income Information
            const incomeSection = document.createElement('div');
            incomeSection.className = 'print-section';
            incomeSection.innerHTML = `<h3>${isSpanish ? 'Información de Ingresos' : 'Income Information'}</h3>`;
            
            if (document.getElementById('employment-yes').checked) {
                incomeSection.innerHTML += `
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Estado de Empleo:' : 'Employment Status:'}</span> ${isSpanish ? 'Empleado' : 'Employed'}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Empleador:' : 'Employer:'}</span> ${document.getElementById('employer').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Puesto de Trabajo:' : 'Job Title:'}</span> ${document.getElementById('job-title').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Turno:' : 'Shift:'}</span> ${document.getElementById('shift').value}</div>
                `;
                
                if (document.getElementById('income-type').value === 'hourly') {
                    incomeSection.innerHTML += `
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Tarifa por Hora:' : 'Hourly Rate:'}</span> $${document.getElementById('hourly-rate').value}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Frecuencia de Pago:' : 'Pay Frequency:'}</span> ${document.getElementById('pay-frequency').value}</div>
                    `;
                } else {
                    incomeSection.innerHTML += `
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Salario Mensual:' : 'Monthly Salary:'}</span> $${document.getElementById('monthly-salary').value}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Frecuencia de Pago:' : 'Pay Frequency:'}</span> ${document.getElementById('pay-frequency').value}</div>
                    `;
                }
                
                incomeSection.innerHTML += `<div class="print-field"><span class="print-label">${isSpanish ? 'Salario Neto:' : 'Take Home Pay:'}</span> $${document.getElementById('take-home-pay').value}</div>`;
            } else {
                incomeSection.innerHTML += `
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Estado de Empleo:' : 'Employment Status:'}</span> ${isSpanish ? 'Otra Fuente de Ingresos' : 'Other Income Source'}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Fuente de Ingresos:' : 'Income Source:'}</span> ${document.getElementById('income-source').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Cantidad Mensual:' : 'Monthly Amount:'}</span> $${document.getElementById('other-take-home').value}</div>
                `;
            }
            printContent.appendChild(incomeSection);
            
            // Co-Renter Income Information if exists
            if (document.getElementById('has-corener').checked) {
                const coIncomeSection = document.createElement('div');
                coIncomeSection.className = 'print-section';
                coIncomeSection.innerHTML = `<h3>${isSpanish ? 'Información de Ingresos del Co-Arrendatario' : 'Co-Renter Income Information'}</h3>`;
                
                if (document.getElementById('co-employment-yes').checked) {
                    coIncomeSection.innerHTML += `
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Estado de Empleo:' : 'Employment Status:'}</span> ${isSpanish ? 'Empleado' : 'Employed'}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Empleador:' : 'Employer:'}</span> ${document.getElementById('co-employer').value}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Puesto de Trabajo:' : 'Job Title:'}</span> ${document.getElementById('co-job-title').value}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Turno:' : 'Shift:'}</span> ${document.getElementById('co-shift').value}</div>
                    `;
                    
                    if (document.getElementById('co-income-type').value === 'hourly') {
                        coIncomeSection.innerHTML += `
                            <div class="print-field"><span class="print-label">${isSpanish ? 'Tarifa por Hora:' : 'Hourly Rate:'}</span> $${document.getElementById('co-hourly-rate').value}</div>
                            <div class="print-field"><span class="print-label">${isSpanish ? 'Frecuencia de Pago:' : 'Pay Frequency:'}</span> ${document.getElementById('co-pay-frequency').value}</div>
                        `;
                    } else {
                        coIncomeSection.innerHTML += `
                            <div class="print-field"><span class="print-label">${isSpanish ? 'Salario Mensual:' : 'Monthly Salary:'}</span> $${document.getElementById('co-monthly-salary').value}</div>
                            <div class="print-field"><span class="print-label">${isSpanish ? 'Frecuencia de Pago:' : 'Pay Frequency:'}</span> ${document.getElementById('co-pay-frequency').value}</div>
                        `;
                    }
                    
                    coIncomeSection.innerHTML += `<div class="print-field"><span class="print-label">${isSpanish ? 'Salario Neto:' : 'Take Home Pay:'}</span> $${document.getElementById('co-take-home-pay').value}</div>`;
                } else {
                    coIncomeSection.innerHTML += `
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Estado de Empleo:' : 'Employment Status:'}</span> ${isSpanish ? 'Otra Fuente de Ingresos' : 'Other Income Source'}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Fuente de Ingresos:' : 'Income Source:'}</span> ${document.getElementById('co-income-source').value}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Cantidad Mensual:' : 'Monthly Amount:'}</span> $${document.getElementById('co-other-take-home').value}</div>
                    `;
                }
                printContent.appendChild(coIncomeSection);
            }
            
            // Residency Information
            const residencySection = document.createElement('div');
            residencySection.className = 'print-section';
            residencySection.innerHTML = `<h3>${isSpanish ? 'Información de Residencia' : 'Residency Information'}</h3>`;
            
            if (document.getElementById('residency-rent').checked) {
                residencySection.innerHTML += `
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Tipo de Residencia:' : 'Residency Type:'}</span> ${isSpanish ? 'Alquiler' : 'Rent'}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Propietario/Administrador:' : 'Landlord/Property Manager:'}</span> ${document.getElementById('landlord-name').value}</div>
                    <div class="print-field"><span class="print-label">${isSpanish ? 'Número de Contacto:' : 'Contact Number:'}</span> ${document.getElementById('landlord-phone').value}</div>
                `;
            } else if (document.getElementById('residency-own').checked) {
                residencySection.innerHTML += `<div class="print-field"><span class="print-label">${isSpanish ? 'Tipo de Residencia:' : 'Residency Type:'}</span> ${isSpanish ? 'Propio' : 'Own'}</div>`;
            } else {
                residencySection.innerHTML += `<div class="print-field"><span class="print-label">${isSpanish ? 'Tipo de Residencia:' : 'Residency Type:'}</span> ${isSpanish ? 'Vivir con el Propietario' : 'Live with Owner'}</div>`;
            }
            printContent.appendChild(residencySection);
            
            // References
            const referencesSection = document.createElement('div');
            referencesSection.className = 'print-section';
            referencesSection.innerHTML = `<h3>${isSpanish ? 'Referencias' : 'References'}</h3>`;
            
            // Reference 1 (Required)
            referencesSection.innerHTML += `
                <div class="print-field"><span class="print-label">${isSpanish ? 'Referencia 1:' : 'Reference 1:'}</span> ${document.querySelector('[name="ref1-first"]').value} ${document.querySelector('[name="ref1-last"]').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Relación:' : 'Relationship:'}</span> ${document.querySelector('[name="ref1-relationship"]').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Teléfono:' : 'Phone:'}</span> ${document.querySelector('[name="ref1-phone"]').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Estado:' : 'State:'}</span> ${document.querySelector('[name="ref1-state"]').value}</div>
            `;
            
            // Reference 2 (Required)
            referencesSection.innerHTML += `
                <div class="print-field"><span class="print-label">${isSpanish ? 'Referencia 2:' : 'Reference 2:'}</span> ${document.querySelector('[name="ref2-first"]').value} ${document.querySelector('[name="ref2-last"]').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Relación:' : 'Relationship:'}</span> ${document.querySelector('[name="ref2-relationship"]').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Teléfono:' : 'Phone:'}</span> ${document.querySelector('[name="ref2-phone"]').value}</div>
                <div class="print-field"><span class="print-label">${isSpanish ? 'Estado:' : 'State:'}</span> ${document.querySelector('[name="ref2-state"]').value}</div>
            `;
            
            // Optional references if filled out
            for (let i = 3; i <= 5; i++) {
                const refFirstName = document.querySelector(`[name="ref${i}-first"]`).value;
                if (refFirstName) {
                    referencesSection.innerHTML += `
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Referencia ' + i + ':' : 'Reference ' + i + ':'}</span> ${refFirstName} ${document.querySelector(`[name="ref${i}-last"]`).value}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Relación:' : 'Relationship:'}</span> ${document.querySelector(`[name="ref${i}-relationship"]`).value}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Teléfono:' : 'Phone:'}</span> ${document.querySelector(`[name="ref${i}-phone"]`).value}</div>
                        <div class="print-field"><span class="print-label">${isSpanish ? 'Estado:' : 'State:'}</span> ${document.querySelector(`[name="ref${i}-state"]`).value}</div>
                    `;
                }
            }
            printContent.appendChild(referencesSection);
            
            // Uploaded documents if any
            const uploadsSection = document.createElement('div');
            uploadsSection.className = 'print-section';
            uploadsSection.innerHTML = `<h3>${isSpanish ? 'Documentos Subidos' : 'Uploaded Documents'}</h3>`;
            
            // Check each file input and add to print if exists
            const fileInputs = [
                {id: 'id-upload', label: isSpanish ? 'Identificación' : 'ID'},
                {id: 'paystub-upload', label: isSpanish ? 'Comprobantes de Pago' : 'Paystubs'},
                {id: 'income-proof-upload', label: isSpanish ? 'Prueba de Ingresos' : 'Proof of Income'},
                {id: 'lease-upload', label: isSpanish ? 'Contrato/Factura de Servicio' : 'Lease/Utility Bill'},
                {id: 'ownership-upload', label: isSpanish ? 'Prueba de Propiedad' : 'Proof of Ownership'},
                {id: 'co-paystub-upload', label: isSpanish ? 'Comprobantes de Pago (Co-Arrendatario)' : 'Paystubs (Co-Renter)'},
                {id: 'co-income-proof-upload', label: isSpanish ? 'Prueba de Ingresos (Co-Arrendatario)' : 'Proof of Income (Co-Renter)'}
            ];
            
            let hasUploads = false;
            
            fileInputs.forEach(input => {
                const fileInput = document.getElementById(input.id);
                if (fileInput && fileInput.files.length > 0) {
                    hasUploads = true;
                    uploadsSection.innerHTML += `
                        <div class="print-upload">
                            <div class="print-upload-title">${input.label}:</div>
                            <div>${fileInput.files[0].name}</div>
                        </div>
                    `;
                }
            });
            
            // Additional documents
            const additionalDocs = document.getElementById('additional-docs');
            if (additionalDocs && additionalDocs.files.length > 0) {
                hasUploads = true;
                uploadsSection.innerHTML += `
                    <div class="print-upload">
                        <div class="print-upload-title">${isSpanish ? 'Documentos Adicionales' : 'Additional Documents'}:</div>
                `;
                
                for (let i = 0; i < additionalDocs.files.length; i++) {
                    uploadsSection.innerHTML += `<div>${additionalDocs.files[i].name}</div>`;
                }
                
                uploadsSection.innerHTML += `</div>`;
            }
            
            if (hasUploads) {
                printContent.appendChild(uploadsSection);
            }
            
            // Signatures at the bottom
            const signatureSection = document.createElement('div');
            signatureSection.className = 'print-section';
            signatureSection.innerHTML = `
                <h3>${isSpanish ? 'Firmas' : 'Signatures'}</h3>
                <div class="print-field">
                    <span class="print-label">${isSpanish ? 'Firma del Arrendatario Principal:' : 'Primary Renter Signature:'}</span><br>
                    <img src="${signaturePad.toDataURL()}" class="signature-img">
                </div>
            `;
            
            if (document.getElementById('has-corener').checked) {
                signatureSection.innerHTML += `
                    <div class="print-field">
                        <span class="print-label">${isSpanish ? 'Firma del Co-Arrendatario:' : 'Co-Renter Signature:'}</span><br>
                        <img src="${coSignaturePad.toDataURL()}" class="signature-img">
                    </div>
                `;
            }
            printContent.appendChild(signatureSection);
            
            // Show printable version and print
            const printableApp = document.getElementById('printable-application');
            printableApp.style.display = 'block';
            window.print();
            printableApp.style.display = 'none';
        }

        // Initialize hidden sections
        window.onload = function() {
            document.getElementById('corener-section').style.display = 'none';
            document.getElementById('co-income-section').style.display = 'none';
            document.getElementById('co-signature-section').style.display = 'none';
            document.getElementById('employment-fields').style.display = 'none';
            document.getElementById('other-income-fields').style.display = 'none';
            document.getElementById('hourly-rate-field').style.display = 'none';
            document.getElementById('monthly-salary-field').style.display = 'none';
            document.getElementById('pay-frequency-field').style.display = 'none';
            document.getElementById('contact-warning').style.display = 'none';
            document.getElementById('co-employment-fields').style.display = 'none';
            document.getElementById('co-other-income-fields').style.display = 'none';
            document.getElementById('co-hourly-rate-field').style.display = 'none';
            document.getElementById('co-monthly-salary-field').style.display = 'none';
            document.getElementById('co-pay-frequency-field').style.display = 'none';
            document.getElementById('co-contact-warning').style.display = 'none';
            document.getElementById('rent-fields').style.display = 'none';
            document.getElementById('own-fields').style.display = 'none';
            document.getElementById('landlord-contact-warning').style.display = 'none';
            
            // Initialize signature saved states
            document.getElementById('primary-signature-saved').style.display = 'none';
            document.getElementById('co-signature-saved').style.display = 'none';
        };
    </script>
</body>
</html>